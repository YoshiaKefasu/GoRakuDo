# ğŸ“‹ ã‚·ãƒ³ãƒ—ãƒ«çµ±åˆSEOã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆã‚¬ã‚¤ãƒ‰ - å³æ ¼åˆ¶ç´„ç‰ˆ

## ğŸ¯ æ¦‚è¦

**ä½•ã‚’ã™ã‚‹ã®ã‹ï¼Ÿ**  
è¤‡é›‘ãª3ã¤ã®SEOã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆHeadSEOã€BasicSEOã€MetaManagerï¼‰ã‚’1ã¤ã®ã‚·ãƒ³ãƒ—ãƒ«ãªSEOã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«çµ±åˆã—ã€MD/MDXãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼å¯¾å¿œã‚’å®Ÿç¾ã™ã‚‹ã€‚

**ãªãœå¿…è¦ãªã®ã‹ï¼Ÿ**  
- **ç¾åœ¨ã®å•é¡Œ**: 3ã¤ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½¿ã„åˆ†ã‘ã‚‹è¤‡é›‘æ€§
- **æ‰‹å‹•è¨­å®šã®å¿…è¦æ€§**: ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼ã‹ã‚‰ã®è‡ªå‹•ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ç”ŸæˆãŒã§ãã¦ã„ãªã„
- **ä¿å®ˆã®å›°é›£**: è¤‡æ•°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ç®¡ç†ãŒç…©é›‘
- **DRYãƒ»KISSåŸå‰‡ã®é€¸è„±**: è¤‡é›‘ã™ãã‚‹ã‚·ã‚¹ãƒ†ãƒ 

**æœŸå¾…ã•ã‚Œã‚‹åŠ¹æœ**  
- 1ã¤ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã™ã¹ã¦ã®SEOæ©Ÿèƒ½ã‚’æä¾›
- MD/MDXãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ã®è‡ªå‹•ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ
- é–‹ç™ºåŠ¹ç‡50%å‘ä¸Š
- ä¿å®ˆã‚³ã‚¹ãƒˆ70%å‰Šæ¸›

**âš ï¸ é‡è¦è­¦å‘Š**  
ã“ã®å®Ÿè£…ã¯**å³æ ¼ãªåˆ¶ç´„**ã®ä¸‹ã§å®Ÿè¡Œã•ã‚Œã¾ã™ã€‚å¤‰æ›´ä¸å¯ãƒ»è§¦ã‚Œã¦ã¯ãªã‚‰ãªã„éƒ¨åˆ†ã‚’å®Œå…¨ã«ä¿è­·ã—ãªãŒã‚‰ã€å®‰å…¨ã§ç¢ºå®Ÿãªç§»è¡Œã‚’å®Ÿç¾ã—ã¾ã™ã€‚

---

## ğŸš¨ **å³æ ¼ãªåˆ¶ç´„ã¨å¤‰æ›´ä¸å¯éƒ¨åˆ†ã®åˆ†é¡**

### **ğŸ”´ CRITICAL: çµ¶å¯¾ã«å¤‰æ›´ä¸å¯ï¼ˆã‚·ã‚¹ãƒ†ãƒ ç ´ç¶»ãƒªã‚¹ã‚¯ï¼‰**

#### **1. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›£è¦–ã‚·ã‚¹ãƒ†ãƒ **
```typescript
// src/utils/performance/performance-monitor.js - å¤‰æ›´ä¸å¯
export function initPerformanceMonitoring() {
  // Core Web Vitalsç›£è¦–
  // ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ¡ãƒˆãƒªã‚¯ã‚¹åé›†
  // ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“åˆ†æ
}
```
**ç†ç”±**: æœ¬ç•ªç’°å¢ƒã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›£è¦–ã€Core Web Vitalsæ¸¬å®šã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“åˆ†æã®åŸºç›¤

#### **2. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®šã‚·ã‚¹ãƒ†ãƒ **
```typescript
// src/utils/security/csp-config.ts - å¤‰æ›´ä¸å¯
export const productionCSP: CSPConfig = {
  // Content Security Policy
  // XSSä¿è­·ã€ãƒªã‚½ãƒ¼ã‚¹æ•´åˆæ€§
  // ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ˜ãƒƒãƒ€ãƒ¼è¨­å®š
}
```
**ç†ç”±**: æœ¬ç•ªç’°å¢ƒã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã€XSSä¿è­·ã€ãƒªã‚½ãƒ¼ã‚¹æ•´åˆæ€§ã®åŸºç›¤

#### **3. ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚·ã‚¹ãƒ†ãƒ **
```typescript
// src/utils/error-handling/hybrid-error-handler.ts - å¤‰æ›´ä¸å¯
export class HybridErrorHandler {
  // ã‚¨ãƒ©ãƒ¼åé›†ãƒ»åˆ†æ
  // ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›£è¦–
  // ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“è¿½è·¡
}
```
**ç†ç”±**: ã‚·ã‚¹ãƒ†ãƒ å®‰å®šæ€§ã€ã‚¨ãƒ©ãƒ¼è¿½è·¡ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›£è¦–ã®åŸºç›¤

#### **4. AIæ©Ÿèƒ½ã‚·ã‚¹ãƒ†ãƒ **
```typescript
// src/utils/ai-content/ - å¤‰æ›´ä¸å¯
export class ContentAnalysis {
  // AIã‚³ãƒ³ãƒ†ãƒ³ãƒ„åˆ†æ
  // ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯é–¢ä¿‚æ€§
  // å­¦ç¿’ãƒ‘ã‚¹ç”Ÿæˆ
}
```
**ç†ç”±**: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„æ¨è–¦ã€å­¦ç¿’ãƒ‘ã‚¹ã€AIåˆ†æã®åŸºç›¤æ©Ÿèƒ½

#### **5. æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã‚·ã‚¹ãƒ†ãƒ **
```typescript
// src/utils/search/simple-search.ts - å¤‰æ›´ä¸å¯
export class SimpleSearch {
  // é«˜é€Ÿæ¤œç´¢ï¼ˆ<50msç›®æ¨™ï¼‰
  // ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
  // ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–
}
```
**ç†ç”±**: ãƒ¦ãƒ¼ã‚¶ãƒ¼æ¤œç´¢ä½“é¨“ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç™ºè¦‹ã®åŸºç›¤

#### **6. ãƒ­ã‚°ã‚·ã‚¹ãƒ†ãƒ **
```typescript
// src/utils/logging/console-logger.ts - å¤‰æ›´ä¸å¯
export class ConsoleLogger {
  // ãƒ“ãƒ«ãƒ‰ãƒ—ãƒ­ã‚»ã‚¹ç›£è¦–
  // ã‚¨ãƒ©ãƒ¼è¿½è·¡
  // ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åˆ†æ
}
```
**ç†ç”±**: ãƒ“ãƒ«ãƒ‰ãƒ—ãƒ­ã‚»ã‚¹ã€ã‚¨ãƒ©ãƒ¼è¿½è·¡ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åˆ†æã®åŸºç›¤

#### **7. ã‚³ãƒ³ãƒ†ãƒ³ãƒ„æ§‹é€ ã‚·ã‚¹ãƒ†ãƒ **
```typescript
// src/utils/content-structure/skeleton-loader.ts - å¤‰æ›´ä¸å¯
export function generateSkeletonPostCard() {
  // ã‚¹ã‚±ãƒ«ãƒˆãƒ³ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°
  // ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–
  // ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“å‘ä¸Š
}
```
**ç†ç”±**: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã€ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ã®åŸºç›¤

#### **8. ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ‘ã‚¹è§£æ±ºã‚·ã‚¹ãƒ†ãƒ **
```typescript
// src/utils/content-path-resolver.ts - å¤‰æ›´ä¸å¯
export function resolveContentPath() {
  // å‹•çš„ãƒ‘ã‚¹è§£æ±º
  // ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³è‡ªå‹•æ¤œå‡º
  // ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°æœ€é©åŒ–
}
```
**ç†ç”±**: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã€ãƒ‘ã‚¹è§£æ±ºã€SEOæœ€é©åŒ–ã®åŸºç›¤

### **ğŸŸ¡ HIGH: å¤‰æ›´åˆ¶é™ï¼ˆæ©Ÿèƒ½ä½ä¸‹ãƒªã‚¹ã‚¯ï¼‰**

#### **1. ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**
```astro
// src/components/homepage/ - å¤‰æ›´åˆ¶é™
â”œâ”€â”€ hero.astro              # ãƒ’ãƒ¼ãƒ­ãƒ¼ã‚»ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆå¤‰æ›´ä¸å¯ï¼‰
â”œâ”€â”€ Slideshow/              # ã‚¹ãƒ©ã‚¤ãƒ‰ã‚·ãƒ§ãƒ¼ï¼ˆè¨­å®šã®ã¿å¤‰æ›´å¯ï¼‰
â”‚   â”œâ”€â”€ ImageSlideshow.astro
â”‚   â””â”€â”€ slides.config.ts    # è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿å¤‰æ›´å¯
```

**å¤‰æ›´å¯èƒ½**: `slides.config.ts`ã®ç”»åƒURLã€ãƒªãƒ³ã‚¯ã€èª¬æ˜æ–‡ã®ã¿
**å¤‰æ›´ä¸å¯**: ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ§‹é€ ã€ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

#### **2. ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»ãƒ¢ãƒ¼ãƒ€ãƒ«**
```vue
// src/components/public-components/ - å¤‰æ›´åˆ¶é™
â”œâ”€â”€ Navbar.vue              # ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆå¤‰æ›´ä¸å¯ï¼‰
â”œâ”€â”€ InvitationModal.vue     # æ‹›å¾…ãƒ¢ãƒ¼ãƒ€ãƒ«ï¼ˆå¤‰æ›´ä¸å¯ï¼‰
â””â”€â”€ Breadcrumb.astro        # ãƒ‘ãƒ³ããšï¼ˆå¤‰æ›´ä¸å¯ï¼‰
```

**ç†ç”±**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã€ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã€ãƒ¢ãƒ¼ãƒ€ãƒ«æ©Ÿèƒ½ã®åŸºç›¤

#### **3. ã‚³ãƒ³ãƒ†ãƒ³ãƒ„è¡¨ç¤ºã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**
```astro
// src/components/content/ - å¤‰æ›´åˆ¶é™
â”œâ”€â”€ ContentCard.astro       # ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚«ãƒ¼ãƒ‰ï¼ˆå¤‰æ›´ä¸å¯ï¼‰
â””â”€â”€ ArticleCard.astro       # è¨˜äº‹ã‚«ãƒ¼ãƒ‰ï¼ˆå¤‰æ›´ä¸å¯ï¼‰
```

**ç†ç”±**: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„è¡¨ç¤ºã€ã‚«ãƒ¼ãƒ‰ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã€ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ã®åŸºç›¤

#### **4. æ¤œç´¢UI**
```vue
// src/components/search/ - å¤‰æ›´åˆ¶é™
â””â”€â”€ SearchUI.vue            # æ¤œç´¢ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ï¼ˆå¤‰æ›´ä¸å¯ï¼‰
```

**ç†ç”±**: æ¤œç´¢ä½“é¨“ã€ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã€çµæœè¡¨ç¤ºã®åŸºç›¤

#### **5. AIæ¨å¥¨ã‚·ã‚¹ãƒ†ãƒ **
```astro
// src/components/docs/ai-recommendations/ - å¤‰æ›´åˆ¶é™
â””â”€â”€ AI-Recommendations.astro # AIæ¨å¥¨ï¼ˆå¤‰æ›´ä¸å¯ï¼‰
```

**ç†ç”±**: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„æ¨å¥¨ã€å­¦ç¿’ãƒ‘ã‚¹ã€AIåˆ†æã®åŸºç›¤

### **ğŸŸ¢ LOW: è¨­å®šå¤‰æ›´ã®ã¿å¯èƒ½**

#### **1. ã‚¹ãƒ©ã‚¤ãƒ‰ã‚·ãƒ§ãƒ¼è¨­å®š**
```typescript
// src/components/homepage/Slideshow/slides.config.ts - è¨­å®šå¤‰æ›´ã®ã¿
export const slides = [
  // ç”»åƒURLã€ãƒªãƒ³ã‚¯ã€èª¬æ˜æ–‡ã®ã¿å¤‰æ›´å¯èƒ½
  // ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ§‹é€ ã¯å¤‰æ›´ä¸å¯
];

export const slideshowConfig = {
  // è‡ªå‹•é€²æ—é–“éš”ã€å‹•ä½œè¨­å®šã®ã¿å¤‰æ›´å¯èƒ½
  // ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ã¯å¤‰æ›´ä¸å¯
};
```

#### **2. ãƒã‚¤ãƒ³ãƒ‰ãƒãƒƒãƒ—è¨­å®š**
```typescript
// src/components/mind-map/ - è¨­å®šå¤‰æ›´ã®ã¿
// æ³¨æ„: ãƒã‚¤ãƒ³ãƒ‰ãƒãƒƒãƒ—æ©Ÿèƒ½ã¯éæ¨å¥¨ãƒ»å‰Šé™¤äºˆå®š
```

---

## ğŸ—ï¸ è¨­è¨ˆä»•æ§˜

### **1. çµ±åˆSEOã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ: `UnifiedSEO.astro`**

```astro
---
export interface Props {
  // åŸºæœ¬ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿
  title?: string;
  description?: string;
  keywords?: string[];
  canonical?: string;
  lang?: string;
  
  // ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼è‡ªå‹•å¯¾å¿œ
  frontmatter?: {
    title?: string;
    description?: string;
    tags?: string[];
    publishedDate?: string;
    modifiedDate?: string;
    author?: string;
    image?: string;
    category?: string;
    difficulty?: string;
    readTime?: string;
  };
  
  // ãƒšãƒ¼ã‚¸ã‚¿ã‚¤ãƒ—åˆ¥è¨­å®š
  pageType?: 'website' | 'article' | 'blog' | 'docs' | 'tools';
  
  // JSON-LDè¨­å®š
  structuredData?: {
    type?: 'WebSite' | 'Article' | 'BlogPosting' | 'TechArticle';
    author?: string;
    datePublished?: string;
    dateModified?: string;
    image?: string;
  };
  
  // ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–
  preload?: Array<{
    href: string;
    as: 'script' | 'style' | 'font' | 'image';
    type?: string;
    crossorigin?: string;
  }>;
  
  // ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®š
  security?: {
    csp?: string;
    hsts?: boolean;
    noindex?: boolean;
  };
  
  // Google Analytics
  gtag?: string;
}

// Props ã®å–å¾—ã¨åˆæœŸå€¤è¨­å®š
const {
  title: propTitle,
  description: propDescription,
  keywords: propKeywords = [],
  canonical: propCanonical,
  lang = 'ja',
  frontmatter,
  pageType = 'website',
  structuredData,
  preload = [],
  security = {},
  gtag
} = Astro.props;

// ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼ã¨Propsã‚’ãƒãƒ¼ã‚¸ã—ã¦æœ€çµ‚çš„ãªãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’ç”Ÿæˆ
const finalMetadata = {
  title: propTitle || frontmatter?.title || 'GoRakuDo',
  description: propDescription || frontmatter?.description || 'Japanese Learning Platform',
  keywords: [...propKeywords, ...(frontmatter?.tags || [])],
  canonical: propCanonical || new URL(Astro.request.url).toString(),
  author: frontmatter?.author || 'GoRakuDo Team',
  publishedDate: frontmatter?.publishedDate,
  modifiedDate: frontmatter?.modifiedDate || new Date().toISOString(),
  image: frontmatter?.image || '/default-og.png',
  category: frontmatter?.category || 'general',
  readTime: frontmatter?.readTime || '5 min'
};

// JSON-LDæ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿ã®ç”Ÿæˆ
function generateJsonLD() {
  const baseData = {
    "@context": "https://schema.org",
    "@type": structuredData?.type || (pageType === 'article' ? 'Article' : 'WebSite'),
    "name": finalMetadata.title,
    "description": finalMetadata.description,
    "url": finalMetadata.canonical,
    "image": finalMetadata.image,
  };

  if (pageType === 'article' || pageType === 'blog' || pageType === 'docs') {
    return {
      ...baseData,
      "@type": "Article",
      "author": {
        "@type": "Person",
        "name": finalMetadata.author
      },
      "datePublished": finalMetadata.publishedDate,
      "dateModified": finalMetadata.modifiedDate,
      "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": finalMetadata.canonical
      },
      "publisher": {
        "@type": "Organization",
        "name": "GoRakuDo",
        "logo": {
          "@type": "ImageObject",
          "url": "https://gorakudo.org/logo.png"
        }
      }
    };
  }

  return baseData;
}

const jsonLD = generateJsonLD();
---

<head>
  <!-- Basic HTML Meta Tags -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="generator" content={Astro.generator} />
  
  <!-- Title and Description -->
  <title>{finalMetadata.title}</title>
  <meta name="description" content={finalMetadata.description} />
  
  <!-- Keywords -->
  {finalMetadata.keywords.length > 0 && (
    <meta name="keywords" content={finalMetadata.keywords.join(', ')} />
  )}
  
  <!-- Canonical URL -->
  <link rel="canonical" href={finalMetadata.canonical} />
  
  <!-- Language -->
  <meta http-equiv="content-language" content={lang} />
  
  <!-- Author and Article Meta -->
  <meta name="author" content={finalMetadata.author} />
  {finalMetadata.publishedDate && (
    <meta name="article:published_time" content={finalMetadata.publishedDate} />
  )}
  {finalMetadata.modifiedDate && (
    <meta name="article:modified_time" content={finalMetadata.modifiedDate} />
  )}
  <meta name="article:author" content={finalMetadata.author} />
  <meta name="article:section" content={finalMetadata.category} />
  
  <!-- Open Graph Meta Tags -->
  <meta property="og:type" content={pageType === 'article' ? 'article' : 'website'} />
  <meta property="og:title" content={finalMetadata.title} />
  <meta property="og:description" content={finalMetadata.description} />
  <meta property="og:url" content={finalMetadata.canonical} />
  <meta property="og:image" content={finalMetadata.image} />
  <meta property="og:site_name" content="GoRakuDo" />
  <meta property="og:locale" content={lang === 'ja' ? 'ja_JP' : 'id_ID'} />
  {finalMetadata.publishedDate && (
    <meta property="article:published_time" content={finalMetadata.publishedDate} />
  )}
  {finalMetadata.modifiedDate && (
    <meta property="article:modified_time" content={finalMetadata.modifiedDate} />
  )}
  
  <!-- Twitter Card Meta Tags -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content={finalMetadata.title} />
  <meta name="twitter:description" content={finalMetadata.description} />
  <meta name="twitter:image" content={finalMetadata.image} />
  <meta name="twitter:site" content="@GoRakuDo" />
  
  <!-- Security Headers -->
  {security.noindex && <meta name="robots" content="noindex, nofollow" />}
  {!security.noindex && <meta name="robots" content="index, follow" />}
  
  {security.csp && (
    <meta http-equiv="Content-Security-Policy" content={security.csp} />
  )}
  
  {security.hsts && (
    <meta http-equiv="Strict-Transport-Security" content="max-age=31536000; includeSubDomains; preload" />
  )}
  
  <!-- Performance Optimization -->
  {preload.map(resource => (
    <link 
      rel="preload" 
      href={resource.href} 
      as={resource.as}
      type={resource.type}
      crossorigin={resource.crossorigin}
    />
  ))}
  
  <!-- DNS Prefetch for external resources -->
  <link rel="dns-prefetch" href="//fonts.googleapis.com" />
  <link rel="dns-prefetch" href="//cdn.jsdelivr.net" />
  
  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
  <link rel="apple-touch-icon" href="/apple-touch-icon.png" />
  <link rel="manifest" href="/manifest.json" />
  
  <!-- JSON-LD Structured Data -->
  <script type="application/ld+json" set:html={JSON.stringify(jsonLD)} />
  
  <!-- Google Analytics -->
  {gtag && (
    <>
      <script async src={`https://www.googletagmanager.com/gtag/js?id=${gtag}`}></script>
      <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', '{gtag}');
      </script>
    </>
  )}
</head>
```

---

## ğŸ“ ä½¿ç”¨æ–¹æ³•ã‚¬ã‚¤ãƒ‰

### **1. åŸºæœ¬çš„ãªä½¿ç”¨æ–¹æ³•**

```astro
---
import UnifiedSEO from '../components/UnifiedSEO.astro';
---

<html lang="ja">
  <UnifiedSEO
    title="ãƒšãƒ¼ã‚¸ã‚¿ã‚¤ãƒˆãƒ«"
    description="ãƒšãƒ¼ã‚¸ã®èª¬æ˜"
    keywords={["ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰1", "ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰2"]}
    pageType="website"
  />
  <body>
    <!-- ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->
  </body>
</html>
```

### **2. MD/MDXãƒ•ã‚¡ã‚¤ãƒ«ã§ã®ä½¿ç”¨æ–¹æ³•**

```astro
---
import UnifiedSEO from '../components/UnifiedSEO.astro';
import { getEntry } from 'astro:content';

// MDãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼ã‚’å–å¾—
const entry = await getEntry('docs', Astro.params.slug);
const frontmatter = entry?.data;
---

<html lang="ja">
  <UnifiedSEO
    frontmatter={frontmatter}
    pageType="article"
    preload={[
      { href: "/css/article.css", as: "style" },
      { href: "/js/article.js", as: "script" }
    ]}
    security={{
      csp: "default-src 'self'; script-src 'self' 'unsafe-inline'",
      hsts: true
    }}
    gtag={import.meta.env.PUBLIC_GA_ID}
  />
  <body>
    <!-- è¨˜äº‹ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->
  </body>
</html>
```

### **3. ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼ä¾‹ï¼ˆMD/MDXãƒ•ã‚¡ã‚¤ãƒ«ï¼‰**

```markdown
---
title: "æ—¥æœ¬èªå­¦ç¿’ã®å§‹ã‚æ–¹"
description: "åˆå¿ƒè€…å‘ã‘ã®æ—¥æœ¬èªå­¦ç¿’ã‚¬ã‚¤ãƒ‰"
tags: ["japanese", "learning", "beginner"]
publishedDate: "2024-12-31"
modifiedDate: "2024-12-31"
author: "GoRakuDo Team"
image: "/images/japanese-learning.jpg"
category: "tutorial"
difficulty: "beginner"
readTime: "10 min"
---

# æ—¥æœ¬èªå­¦ç¿’ã®å§‹ã‚æ–¹

ã“ã“ã«è¨˜äº‹ã®å†…å®¹...
```

### **4. ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã§ã®ä½¿ç”¨ä¾‹**

```astro
---
// src/layouts/ArticleLayout.astro
import UnifiedSEO from '../components/UnifiedSEO.astro';

export interface Props {
  frontmatter: {
    title: string;
    description: string;
    tags?: string[];
    publishedDate?: string;
    author?: string;
    image?: string;
  };
}

const { frontmatter } = Astro.props;
---

<html lang="ja">
  <UnifiedSEO
    frontmatter={frontmatter}
    pageType="article"
    structuredData={{
      type: "Article",
      author: frontmatter.author,
      datePublished: frontmatter.publishedDate,
      image: frontmatter.image
    }}
    preload={[
      { href: "/css/article.css", as: "style" },
      { href: "/fonts/inter.woff2", as: "font", type: "font/woff2", crossorigin: "anonymous" }
    ]}
    security={{
      csp: "default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'",
      hsts: true
    }}
    gtag={import.meta.env.PUBLIC_GA_ID}
  />
  <body>
    <main>
      <slot />
    </main>
  </body>
</html>
```

---

## ğŸ”§ å®Ÿè£…æ‰‹é †

### **Phase 1: UnifiedSEOã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä½œæˆï¼ˆ1æ—¥ï¼‰**

1. **ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ**
```bash
# 1. ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ
touch src/components/UnifiedSEO.astro

# 2. ä¸Šè¨˜ã®è¨­è¨ˆä»•æ§˜ã‚’ã‚³ãƒ”ãƒ¼
```

2. **å‹å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ**
```typescript
// src/types/unified-seo.ts
export interface UnifiedSEOProps {
  title?: string;
  description?: string;
  keywords?: string[];
  canonical?: string;
  lang?: string;
  frontmatter?: FrontmatterData;
  pageType?: PageType;
  structuredData?: StructuredDataConfig;
  preload?: PreloadResource[];
  security?: SecurityConfig;
  gtag?: string;
}

export interface FrontmatterData {
  title?: string;
  description?: string;
  tags?: string[];
  publishedDate?: string;
  modifiedDate?: string;
  author?: string;
  image?: string;
  category?: string;
  difficulty?: string;
  readTime?: string;
}

export type PageType = 'website' | 'article' | 'blog' | 'docs' | 'tools';

export interface StructuredDataConfig {
  type?: 'WebSite' | 'Article' | 'BlogPosting' | 'TechArticle';
  author?: string;
  datePublished?: string;
  dateModified?: string;
  image?: string;
}

export interface PreloadResource {
  href: string;
  as: 'script' | 'style' | 'font' | 'image';
  type?: string;
  crossorigin?: string;
}

export interface SecurityConfig {
  csp?: string;
  hsts?: boolean;
  noindex?: boolean;
}
```

### **Phase 2: æ—¢å­˜ãƒšãƒ¼ã‚¸ã®ç§»è¡Œï¼ˆ2æ—¥ï¼‰**

1. **index.astroã®ç§»è¡Œ**
```astro
---
// ä¿®æ­£å‰
import HeadSEO from "../components/public-components/HeadSEO.astro"
import BasicSEO from "../components/public-components/BasicSEO.astro"
import MetaManager from "../components/public-components/MetaManager.astro"

// ä¿®æ­£å¾Œ
import UnifiedSEO from "../components/UnifiedSEO.astro"
---

<html lang="id">
  <!-- ä¿®æ­£å‰ -->
  <!-- <HeadSEO ... />
  <BasicSEO ... />
  <MetaManager ... /> -->
  
  <!-- ä¿®æ­£å¾Œ -->
  <UnifiedSEO
    title="Komunitas Immersion Terbesar JP-Indonesia"
    description="Komunitas immersion bahasa Jepang terbesar Indonesia"
    keywords={["belajar", "bahasa", "jepang", "immersion"]}
    pageType="website"
    lang="id"
    preload={[
      { href: "/_astro/client.js", as: "script", crossorigin: "anonymous" }
    ]}
    security={{
      csp: "default-src 'self'; script-src 'self' 'unsafe-inline'",
      hsts: true
    }}
    gtag={import.meta.env.PUBLIC_GA_ID}
  />
  <body>
    <!-- ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->
  </body>
</html>
```

2. **docs.astroã®ç§»è¡Œ**
```astro
---
import UnifiedSEO from "../components/UnifiedSEO.astro"

// ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒšãƒ¼ã‚¸ã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿
const docMetadata = {
  title: "Dokumentasi & Panduan",
  description: "Panduan lengkap untuk memulai perjalanan immersion bahasa Jepang",
  category: "documentation",
  author: "Tim GoRakuDo"
};
---

<html lang="id">
  <UnifiedSEO
    title={docMetadata.title}
    description={docMetadata.description}
    keywords={["dokumentasi", "panduan", "tutorial", "jepang"]}
    pageType="docs"
    structuredData={{
      type: "TechArticle",
      author: docMetadata.author
    }}
    preload={[
      { href: "/css/docs.css", as: "style" },
      { href: "/js/search.js", as: "script" }
    ]}
    security={{
      csp: "default-src 'self'; script-src 'self' 'unsafe-inline'",
      hsts: true
    }}
    gtag={import.meta.env.PUBLIC_GA_ID}
  />
  <body>
    <!-- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->
  </body>
</html>
```

### **Phase 3: MD/MDXãƒ•ã‚¡ã‚¤ãƒ«å¯¾å¿œï¼ˆ1æ—¥ï¼‰**

1. **ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³è¨­å®š**
```typescript
// src/content/config.ts
import { defineCollection, z } from 'astro:content';

const docsCollection = defineCollection({
  type: 'content',
  schema: z.object({
    title: z.string(),
    description: z.string(),
    tags: z.array(z.string()).optional(),
    publishedDate: z.string(),
    modifiedDate: z.string().optional(),
    author: z.string().optional(),
    image: z.string().optional(),
    category: z.string().optional(),
    difficulty: z.enum(['beginner', 'intermediate', 'advanced']).optional(),
    readTime: z.string().optional()
  })
});

export const collections = {
  'docs': docsCollection
};
```

2. **å‹•çš„ãƒšãƒ¼ã‚¸ã§ã®ä½¿ç”¨**
```astro
---
// src/pages/docs/[slug].astro
import UnifiedSEO from '../../components/UnifiedSEO.astro';
import { getEntry } from 'astro:content';

export async function getStaticPaths() {
  const entries = await getCollection('docs');
  return entries.map(entry => ({
    params: { slug: entry.slug },
    props: { entry }
  }));
}

const { entry } = Astro.props;
const { Content } = await entry.render();
---

<html lang="ja">
  <UnifiedSEO
    frontmatter={entry.data}
    pageType="article"
    canonical={`https://gorakudo.org/docs/${entry.slug}`}
    structuredData={{
      type: "Article",
      author: entry.data.author,
      datePublished: entry.data.publishedDate,
      dateModified: entry.data.modifiedDate,
      image: entry.data.image
    }}
    preload={[
      { href: "/css/article.css", as: "style" },
      { href: "/css/syntax-highlighting.css", as: "style" }
    ]}
    security={{
      csp: "default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'",
      hsts: true
    }}
    gtag={import.meta.env.PUBLIC_GA_ID}
  />
  <body>
    <main>
      <Content />
    </main>
  </body>
</html>
```

### **Phase 4: å¤ã„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå‰Šé™¤ï¼ˆ2æ—¥ï¼‰**

#### **ğŸš¨ é‡è¦è­¦å‘Š: å‰Šé™¤å¯¾è±¡ã¨å¤‰æ›´å¯¾è±¡ã®è©³ç´°åˆ†é¡**

##### **ğŸ—‘ï¸ å‰Šé™¤å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆåˆè¨ˆ46ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰**

**1. Astroã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆ3ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰**
```
src/components/public-components/
â”œâ”€â”€ HeadSEO.astro              # å‰Šé™¤å¯¾è±¡
â”œâ”€â”€ BasicSEO.astro             # å‰Šé™¤å¯¾è±¡
â””â”€â”€ MetaManager.astro          # å‰Šé™¤å¯¾è±¡
```

**2. TypeScriptå‹å®šç¾©ï¼ˆ30ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰**
```
src/types/new-seo-system/
â”œâ”€â”€ index.ts                   # å‰Šé™¤å¯¾è±¡
â”œâ”€â”€ seo-types.ts              # å‰Šé™¤å¯¾è±¡
â”œâ”€â”€ meta-types.ts             # å‰Šé™¤å¯¾è±¡
â”œâ”€â”€ integration-types.ts       # å‰Šé™¤å¯¾è±¡
â”œâ”€â”€ validation-types.ts        # å‰Šé™¤å¯¾è±¡
â”œâ”€â”€ performance-types.ts       # å‰Šé™¤å¯¾è±¡
â”œâ”€â”€ security-types.ts          # å‰Šé™¤å¯¾è±¡
â”œâ”€â”€ analytics-types.ts         # å‰Šé™¤å¯¾è±¡
â”œâ”€â”€ structured-data-types.ts   # å‰Šé™¤å¯¾è±¡
â”œâ”€â”€ social-media-types.ts      # å‰Šé™¤å¯¾è±¡
â”œâ”€â”€ accessibility-types.ts     # å‰Šé™¤å¯¾è±¡
â”œâ”€â”€ internationalization-types.ts # å‰Šé™¤å¯¾è±¡
â”œâ”€â”€ seo-score-types.ts        # å‰Šé™¤å¯¾è±¡
â”œâ”€â”€ keyword-types.ts           # å‰Šé™¤å¯¾è±¡
â””â”€â”€ content-types.ts           # å‰Šé™¤å¯¾è±¡

# ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªï¼ˆ15ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰
src/types-backup-20250903-105919/  # å‰Šé™¤å¯¾è±¡
src/types-backup-*/                 # å‰Šé™¤å¯¾è±¡
```

**3. JavaScript/TypeScriptãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ï¼ˆ8ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰**
```
src/utils/new-seo-system/
â”œâ”€â”€ meta-manager.ts            # å‰Šé™¤å¯¾è±¡
â”œâ”€â”€ keyword-validator.ts       # å‰Šé™¤å¯¾è±¡
â”œâ”€â”€ seo-analyzer.ts            # å‰Šé™¤å¯¾è±¡
â”œâ”€â”€ performance-optimizer.ts   # å‰Šé™¤å¯¾è±¡
â”œâ”€â”€ security-manager.ts        # å‰Šé™¤å¯¾è±¡
â”œâ”€â”€ analytics-tracker.ts       # å‰Šé™¤å¯¾è±¡
â”œâ”€â”€ structured-data-generator.ts # å‰Šé™¤å¯¾è±¡
â””â”€â”€ social-media-manager.ts    # å‰Šé™¤å¯¾è±¡
```

**4. ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ1ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰**
```
tests/
â””â”€â”€ new-seo-system.test.ts     # å‰Šé™¤å¯¾è±¡
```

**5. è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ4ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰**
```
src/config/
â”œâ”€â”€ seo-config.ts              # å‰Šé™¤å¯¾è±¡
â”œâ”€â”€ seo-rules.ts               # å‰Šé™¤å¯¾è±¡
â”œâ”€â”€ seo-patterns.ts            # å‰Šé™¤å¯¾è±¡
â””â”€â”€ seo-standards.ts           # å‰Šé™¤å¯¾è±¡
```

##### **ğŸ”„ å¤‰æ›´å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆåˆè¨ˆ12ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰**

**1. ãƒšãƒ¼ã‚¸ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ10ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰**
```
src/pages/
â”œâ”€â”€ index.astro                # å¤‰æ›´å¯¾è±¡ï¼šSEOã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆç½®ãæ›ãˆ
â”œâ”€â”€ docs.astro                 # å¤‰æ›´å¯¾è±¡ï¼šSEOã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆç½®ãæ›ãˆ
â”œâ”€â”€ tools.astro                # å¤‰æ›´å¯¾è±¡ï¼šSEOã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆç½®ãæ›ãˆ
â”œâ”€â”€ discord.astro              # å¤‰æ›´å¯¾è±¡ï¼šSEOã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆç½®ãæ›ãˆ
â”œâ”€â”€ settings.astro             # å¤‰æ›´å¯¾è±¡ï¼šSEOã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆç½®ãæ›ãˆ
â”œâ”€â”€ 404.astro                 # å¤‰æ›´å¯¾è±¡ï¼šSEOã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆç½®ãæ›ãˆ
â”œâ”€â”€ docs-new.astro            # å¤‰æ›´å¯¾è±¡ï¼šSEOã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆç½®ãæ›ãˆ
â”œâ”€â”€ admin/settings.astro       # å¤‰æ›´å¯¾è±¡ï¼šSEOã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆç½®ãæ›ãˆ
â”œâ”€â”€ docs/[slug].astro         # å¤‰æ›´å¯¾è±¡ï¼šSEOã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆç½®ãæ›ãˆ
â””â”€â”€ test-unified-seo.astro    # æ–°è¦ä½œæˆï¼šãƒ†ã‚¹ãƒˆç”¨ãƒšãƒ¼ã‚¸
```

**2. ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ1ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰**
```
src/layouts/
â””â”€â”€ BaseLayout.astro           # å¤‰æ›´å¯¾è±¡ï¼šSEOã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆç½®ãæ›ãˆ
```

**3. ä¾å­˜é–¢ä¿‚ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ2ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰**
```
src/utils/base-integration/
â”œâ”€â”€ seo-connector.ts           # å¤‰æ›´å¯¾è±¡ï¼šUnifiedSEOå¯¾å¿œã«ç½®ãæ›ãˆ
â””â”€â”€ data-flow-builder.ts       # å¤‰æ›´å¯¾è±¡ï¼šUnifiedSEOå¯¾å¿œã«ç½®ãæ›ãˆ
```

##### **âœ… æ–°è¦ä½œæˆãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆåˆè¨ˆ4ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰**

**1. çµ±åˆSEOã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**
```
src/components/
â””â”€â”€ UnifiedSEO.astro           # æ–°è¦ä½œæˆï¼šçµ±åˆSEOã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
```

**2. å‹å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«**
```
src/types/unified-seo/
â””â”€â”€ index.ts                   # æ–°è¦ä½œæˆï¼šçµ±åˆSEOå‹å®šç¾©
```

**3. ä»£æ›¿å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«**
```
src/utils/base-integration/
â”œâ”€â”€ seo-connector-unified.ts   # æ–°è¦ä½œæˆï¼šUnifiedSEOå¯¾å¿œã‚³ãƒã‚¯ã‚¿ãƒ¼
â””â”€â”€ data-flow-builder-unified.ts # æ–°è¦ä½œæˆï¼šUnifiedSEOå¯¾å¿œãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼
```

##### **âš ï¸ å¤‰æ›´ä¸å¯ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆçµ¶å¯¾ã«è§¦ã‚Œã¦ã¯ãªã‚‰ãªã„ï¼‰**

**1. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›£è¦–ã‚·ã‚¹ãƒ†ãƒ **
```
src/utils/performance/          # å¤‰æ›´ä¸å¯ï¼šæœ¬ç•ªç’°å¢ƒã®åŸºç›¤
â”œâ”€â”€ performance-monitor.js
â”œâ”€â”€ performance-baseline-monitor.ts
```

**2. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®šã‚·ã‚¹ãƒ†ãƒ **
```
src/utils/security/             # å¤‰æ›´ä¸å¯ï¼šæœ¬ç•ªç’°å¢ƒã®åŸºç›¤
â”œâ”€â”€ csp-config.ts
â””â”€â”€ security-manager.ts
```

**3. AIæ©Ÿèƒ½ã‚·ã‚¹ãƒ†ãƒ **
```
src/utils/ai-content/           # å¤‰æ›´ä¸å¯ï¼šAIåˆ†æã®åŸºç›¤
â”œâ”€â”€ content-analysis.ts
â”œâ”€â”€ ai-content-utils.ts
â”œâ”€â”€ semantic-relationships.ts
â”œâ”€â”€ auto-ai-metadata.ts
â””â”€â”€ auto-ai-metadata-fixed.ts
```

**4. æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã‚·ã‚¹ãƒ†ãƒ **
```
src/utils/search/               # å¤‰æ›´ä¸å¯ï¼šæ¤œç´¢æ©Ÿèƒ½ã®åŸºç›¤
â”œâ”€â”€ simple-search.ts
â””â”€â”€ types.ts
```

**5. ãã®ä»–ã®åŸºç›¤ã‚·ã‚¹ãƒ†ãƒ **
```
src/utils/
â”œâ”€â”€ error-handling/            # å¤‰æ›´ä¸å¯ï¼šã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°åŸºç›¤
â”œâ”€â”€ logging/                   # å¤‰æ›´ä¸å¯ï¼šãƒ­ã‚°ã‚·ã‚¹ãƒ†ãƒ åŸºç›¤
â”œâ”€â”€ content-structure/         # å¤‰æ›´ä¸å¯ï¼šã‚³ãƒ³ãƒ†ãƒ³ãƒ„æ§‹é€ åŸºç›¤
â””â”€â”€ content-path-resolver.ts   # å¤‰æ›´ä¸å¯ï¼šãƒ‘ã‚¹è§£æ±ºåŸºç›¤
```

**âš ï¸ é‡å¤§ãªä¾å­˜é–¢ä¿‚ç™ºè¦‹:**
```typescript
// src/utils/base-integration/seo-connector.ts
import { NewSEOMetaManager } from '../new-seo-system/meta-manager';
import { NewSEOKeywordValidator } from '../new-seo-system/keyword-validator';

// src/utils/base-integration/data-flow-builder.ts  
import { NewSEOMetaManager } from '../new-seo-system/meta-manager';
import { NewSEOKeywordValidator } from '../new-seo-system/keyword-validator';
```

**ğŸš¨ åˆ¶ç´„å†…ã§ã®å‰Šé™¤æˆ¦ç•¥:**
- **å¤‰æ›´ä¸å¯ãƒ•ã‚¡ã‚¤ãƒ«ã®å®Œå…¨ä¿è­·**: å‰Šé™¤ä½œæ¥­ä¸­ã‚‚çµ¶å¯¾ã«è§¦ã‚Œãªã„
- **æ®µéšçš„å‰Šé™¤**: 1ãƒ•ã‚¡ã‚¤ãƒ«ãšã¤å®‰å…¨ã«å‰Šé™¤
- **è‡ªå‹•ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯**: å•é¡Œç™ºç”Ÿæ™‚ã¯å³åº§ã«å¾©å…ƒ
- **ä¾å­˜é–¢ä¿‚ã®äº‹å‰è§£æ±º**: ä»£æ›¿å®Ÿè£…ã‚’äº‹å‰ã«æº–å‚™

#### **Phase 4-1: ä¾å­˜é–¢ä¿‚ã®å®‰å…¨ãªç§»è¡Œï¼ˆ1æ—¥ç›®ï¼‰**

##### **ğŸ” æ®µéšçš„ä¾å­˜é–¢ä¿‚èª¿æŸ»ã¨å®‰å…¨ç¢ºèª**

```bash
# 1. ä¾å­˜é–¢ä¿‚ã®å½±éŸ¿ç¯„å›²èª¿æŸ»ï¼ˆæ®µéšçš„å®Ÿè¡Œï¼‰
echo "ğŸ” Phase 4-1: ä¾å­˜é–¢ä¿‚ã®è©³ç´°èª¿æŸ»é–‹å§‹..."

# 1-1. åŸºæœ¬ä¾å­˜é–¢ä¿‚èª¿æŸ»
echo "ğŸ“‹ Step 1: åŸºæœ¬ä¾å­˜é–¢ä¿‚èª¿æŸ»..."
grep -r "new-seo-system" src/ --include="*.ts" --include="*.js" --include="*.astro" > temp/dependency-analysis/new-seo-system-usage.log
grep -r "NewSEO" src/ --include="*.ts" --include="*.js" > temp/dependency-analysis/newseo-class-usage.log
grep -r "meta-manager" src/ --include="*.ts" --include="*.js" > temp/dependency-analysis/meta-manager-usage.log
grep -r "keyword-validator" src/ --include="*.ts" --include="*.js" > temp/dependency-analysis/keyword-validator-usage.log

# 1-2. ã‚¤ãƒ³ãƒãƒ¼ãƒˆæ–‡ã®è©³ç´°åˆ†æ
echo "ğŸ“Š Step 2: ã‚¤ãƒ³ãƒãƒ¼ãƒˆæ–‡ã®è©³ç´°åˆ†æ..."
find src/ -name "*.ts" -exec grep -l "import.*new-seo-system" {} \; > temp/dependency-analysis/import-files.log
find src/ -name "*.astro" -exec grep -l "import.*new-seo-system" {} \; > temp/dependency-analysis/import-astro-files.log

# 1-3. ä¾å­˜é–¢ä¿‚ã®å½±éŸ¿åº¦è©•ä¾¡
echo "ğŸ“ˆ Step 3: ä¾å­˜é–¢ä¿‚ã®å½±éŸ¿åº¦è©•ä¾¡..."
cat > temp/dependency-analysis/dependency-impact-matrix.json << 'EOF'
{
  "critical-dependencies": {
    "seo-connector.ts": {
      "imports": ["NewSEOMetaManager", "NewSEOKeywordValidator"],
      "usedBy": ["docs/[slug].astro", "BaseLayout.astro"],
      "impact": "HIGH",
      "replacement": "seo-connector-unified.ts",
      "rollback-time": "5min"
    },
    "data-flow-builder.ts": {
      "imports": ["NewSEOMetaManager", "NewSEOKeywordValidator"],
      "usedBy": ["docs.astro", "tools.astro"],
      "impact": "HIGH",
      "replacement": "data-flow-builder-unified.ts",
      "rollback-time": "5min"
    }
  },
  "medium-dependencies": {
    "meta-manager.ts": {
      "imports": [],
      "usedBy": ["seo-connector.ts", "data-flow-builder.ts"],
      "impact": "MEDIUM",
      "replacement": "UnifiedSEO component",
      "rollback-time": "10min"
    },
    "keyword-validator.ts": {
      "imports": [],
      "usedBy": ["seo-connector.ts", "data-flow-builder.ts"],
      "impact": "MEDIUM",
      "replacement": "UnifiedSEO component",
      "rollback-time": "10min"
    }
  },
  "low-dependencies": {
    "seo-analyzer.ts": {
      "imports": [],
      "usedBy": [],
      "impact": "LOW",
      "replacement": "UnifiedSEO component",
      "rollback-time": "15min"
    }
  }
}
EOF

echo "âœ… ä¾å­˜é–¢ä¿‚åˆ†æå®Œäº†"
```

# 2. ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä½œæˆï¼ˆãƒ•ãƒ«ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ— + æ•´åˆæ€§ãƒã‚§ãƒƒã‚¯ï¼‰
echo "ğŸ“¦ Step 4: ãƒ•ãƒ«ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä½œæˆé–‹å§‹..."

# 2-1. ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆ
BACKUP_DIR="backup/unified-seo-migration/$(date +%Y%m%d_%H%M%S)"
mkdir -p $BACKUP_DIR
mkdir -p $BACKUP_DIR/components
mkdir -p $BACKUP_DIR/layouts
mkdir -p $BACKUP_DIR/pages
mkdir -p $BACKUP_DIR/utils
mkdir -p $BACKUP_DIR/types
mkdir -p $BACKUP_DIR/config

echo "ğŸ“ ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆå®Œäº†: $BACKUP_DIR"

# 2-2. æ®µéšçš„ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—å®Ÿè¡Œ
echo "ğŸ”„ Step 4-1: Astroã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—..."
cp -r src/components/public-components/ $BACKUP_DIR/components/ 2>/dev/null || echo "âš ï¸ public-components backup failed"
cp -r src/layouts/ $BACKUP_DIR/layouts/ 2>/dev/null || echo "âš ï¸ layouts backup failed"
cp -r src/pages/ $BACKUP_DIR/pages/ 2>/dev/null || echo "âš ï¸ pages backup failed"

echo "ğŸ”„ Step 4-2: TypeScript/JavaScriptä¾å­˜ãƒ•ã‚¡ã‚¤ãƒ«ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—..."
cp -r src/utils/new-seo-system/ $BACKUP_DIR/utils/new-seo-system/ 2>/dev/null || echo "âš ï¸ new-seo-system backup failed"
cp -r src/utils/base-integration/ $BACKUP_DIR/utils/base-integration/ 2>/dev/null || echo "âš ï¸ base-integration backup failed"
cp -r src/types/new-seo-system/ $BACKUP_DIR/types/new-seo-system/ 2>/dev/null || echo "âš ï¸ types backup failed"

echo "ğŸ”„ Step 4-3: è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—..."
cp -r src/config/ $BACKUP_DIR/config/ 2>/dev/null || echo "âš ï¸ config backup failed"

# 2-3. ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—æ•´åˆæ€§ãƒã‚§ãƒƒã‚¯
echo "ğŸ” Step 4-4: ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—æ•´åˆæ€§ãƒã‚§ãƒƒã‚¯..."
BACKUP_CHECK_RESULT=0

# å¿…é ˆãƒ•ã‚¡ã‚¤ãƒ«ã®å­˜åœ¨ç¢ºèª
if [ -d "$BACKUP_DIR/components/public-components" ]; then
  echo "âœ… components backup: OK"
else
  echo "âŒ components backup: FAILED"
  BACKUP_CHECK_RESULT=1
fi

if [ -d "$BACKUP_DIR/utils/new-seo-system" ]; then
  echo "âœ… utils backup: OK"
else
  echo "âŒ utils backup: FAILED"
  BACKUP_CHECK_RESULT=1
fi

if [ -d "$BACKUP_DIR/types/new-seo-system" ]; then
  echo "âœ… types backup: OK"
else
  echo "âŒ types backup: FAILED"
  BACKUP_CHECK_RESULT=1
fi

# ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—çµæœã®è¨˜éŒ²
if [ $BACKUP_CHECK_RESULT -eq 0 ]; then
  echo "âœ… ãƒ•ãƒ«ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—å®Œäº†: $BACKUP_DIR"
  echo "$BACKUP_DIR" > temp/backup-path.txt
else
  echo "âŒ ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—å¤±æ•— - ç§»è¡Œã‚’ä¸­æ­¢ã—ã¾ã™"
  exit 1
fi

# 2-4. ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ä½œæˆ
cat > $BACKUP_DIR/backup-metadata.json << EOF
{
  "backup_timestamp": "$(date -u +"%Y-%m-%dT%H:%M:%SZ")",
  "backup_reason": "Unified SEO Migration",
  "source_directory": "src/",
  "backup_contents": {
    "components": "$(ls -1 $BACKUP_DIR/components/ | wc -l) files",
    "layouts": "$(ls -1 $BACKUP_DIR/layouts/ | wc -l) files",
    "pages": "$(ls -1 $BACKUP_DIR/pages/ | wc -l) files",
    "utils": "$(ls -1 $BACKUP_DIR/utils/ | wc -l) directories",
    "utils": "$(ls -1 $BACKUP_DIR/utils/ | wc -l) directories",
    "types": "$(ls -1 $BACKUP_DIR/types/ | wc -l) directories",
    "config": "$(ls -1 $BACKUP_DIR/config/ | wc -l) files"
  },
  "migration_phase": "preparation",
  "rollback_instructions": "Use rollback_changes function for automatic rollback"
}
EOF

echo "ğŸ“‹ ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ä½œæˆå®Œäº†"

# 3. ä¾å­˜é–¢ä¿‚ã®ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°æº–å‚™
echo "ğŸ”§ ä¾å­˜é–¢ä¿‚ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°æº–å‚™..."

# seo-connector.tsã®ä»£æ›¿å®Ÿè£…ä½œæˆ
cat > src/utils/base-integration/seo-connector-unified.ts << 'EOF'
// ========== UNIFIED SEO CONNECTOR ==========
// UnifiedSEOã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆç”¨ã®ç°¡æ˜“ã‚³ãƒã‚¯ã‚¿ãƒ¼
// å¤ã„SEOã‚·ã‚¹ãƒ†ãƒ ã®ä¾å­˜é–¢ä¿‚ã‚’å®Œå…¨ã«æ’é™¤

import type {
  SEOIntegrationConfig,
  SEOIntegrationResult,
} from '../../types/new-seo-system/integration-types.js';

/**
 * çµ±åˆSEOã‚·ã‚¹ãƒ†ãƒ ç”¨ã‚³ãƒã‚¯ã‚¿ãƒ¼
 * UnifiedSEOã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨é€£æº
 */
export class UnifiedSEOConnector {
  private config: SEOIntegrationConfig;
  private isConnected: boolean = false;

  constructor(config: SEOIntegrationConfig) {
    this.config = config;
  }

  /**
   * ç°¡æ˜“æ¥ç¶šï¼ˆUnifiedSEOã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆç”¨ï¼‰
   */
  async connect(): Promise<SEOIntegrationResult> {
    this.isConnected = true;
    const timestamp = new Date();
    
    return {
      success: true,
      status: 'connected',
      timestamp,
      endpoint: this.config.apiEndpoint,
      lastConnected: timestamp,
    };
  }

  /**
   * åŸºæœ¬çš„ãªSEOåˆ†æï¼ˆUnifiedSEOã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆç”¨ï¼‰
   */
  async analyzeSEO(title: string, content: string, keywords: string[] = []) {
    if (!this.isConnected) {
      throw new Error('SEO system not connected');
    }

    // ç°¡æ˜“SEOåˆ†æï¼ˆUnifiedSEOã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒä¸»è¦æ©Ÿèƒ½ã‚’æ‹…å½“ï¼‰
    return {
      title: title,
      metaDescription: {
        description: content.substring(0, 160),
        length: Math.min(content.length, 160),
        hasKeywords: keywords.length > 0,
        hasCTA: content.toLowerCase().includes('belajar') || content.toLowerCase().includes('å­¦ç¿’'),
        language: /[\u3040-\u309F\u30A0-\u30FF\u4E00-\u9FAF]/.test(content) ? 'ja' : 'id',
        generatedAt: new Date().toISOString(),
      },
      keywords: keywords,
      structuredKeywords: [],
      seoScore: keywords.length > 0 ? 85 : 60,
    };
  }

  isConnectedToSEOSystem(): boolean {
    return this.isConnected;
  }

  getConnectionErrors(): string[] {
    return [];
  }

  disconnect(): void {
    this.isConnected = false;
  }
}
EOF

# data-flow-builder.tsã®ä»£æ›¿å®Ÿè£…ä½œæˆ
cat > src/utils/base-integration/data-flow-builder-unified.ts << 'EOF'
// ========== UNIFIED DATA FLOW BUILDER ==========
// UnifiedSEOã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆç”¨ã®ç°¡æ˜“ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼
// å¤ã„SEOã‚·ã‚¹ãƒ†ãƒ ã®ä¾å­˜é–¢ä¿‚ã‚’å®Œå…¨ã«æ’é™¤

import type {
  DataFlowConfig,
  DataFlowResult,
} from '../../types/new-seo-system/integration-types.js';

export class UnifiedDataFlowBuilder {
  private config: DataFlowConfig;

  constructor(config: DataFlowConfig) {
    this.config = config;
  }

  async build(): Promise<DataFlowResult> {
    console.log('ğŸ”„ Building unified data flow...');

    const timestamp = new Date();
    
    // UnifiedSEOã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ™ãƒ¼ã‚¹ã®ç°¡æ˜“ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼
    return {
      success: true,
      status: 'connected',
      timestamp,
      metadataFlow: true,
      seoFlow: true,
      validation: true,
      flowStatus: 'active',
      lastProcessed: timestamp,
      processedCount: 1,
      errorCount: 0,
    };
  }

  updateConfig(newConfig: Partial<DataFlowConfig>): void {
    this.config = { ...this.config, ...newConfig };
  }

  getDataFlowStatus() {
    return {
      metadataFlow: true,
      seoFlow: true,
      validationFlow: true,
      isConfigured: true,
    };
  }
}
EOF

echo "âœ… ä»£æ›¿å®Ÿè£…ä½œæˆå®Œäº†"
```

#### **Phase 4-2: å¤ã„ã‚·ã‚¹ãƒ†ãƒ ã®æ®µéšçš„å‰Šé™¤ï¼ˆ2æ—¥ç›®ï¼‰**

```bash
# 4. æ®µéšçš„å‰Šé™¤æ‰‹é †ï¼ˆå®‰å…¨æ€§ã‚’æœ€å„ªå…ˆï¼‰

# 4-1. æ—¢å­˜ãƒ•ã‚¡ã‚¤ãƒ«ã®ä½¿ç”¨åœæ­¢ï¼ˆã¾ã å‰Šé™¤ã—ãªã„ï¼‰
echo "ğŸ“‹ Step 1: æ—¢å­˜ä¾å­˜é–¢ä¿‚ã®ç„¡åŠ¹åŒ–..."

# seo-connector.tsã®ä¸€æ™‚çš„ãªåå‰å¤‰æ›´ï¼ˆå‰Šé™¤ã§ã¯ãªã„ï¼‰
mv src/utils/base-integration/seo-connector.ts src/utils/base-integration/seo-connector.ts.disabled
mv src/utils/base-integration/data-flow-builder.ts src/utils/base-integration/data-flow-builder.ts.disabled

# æ–°ã—ã„å®Ÿè£…ã«åˆ‡ã‚Šæ›¿ãˆ
mv src/utils/base-integration/seo-connector-unified.ts src/utils/base-integration/seo-connector.ts
mv src/utils/base-integration/data-flow-builder-unified.ts src/utils/base-integration/data-flow-builder.ts

echo "âœ… ä¾å­˜é–¢ä¿‚ã®åˆ‡ã‚Šæ›¿ãˆå®Œäº†"

# 4-2. ãƒ“ãƒ«ãƒ‰ãƒ†ã‚¹ãƒˆï¼ˆå‰Šé™¤å‰ã®å®‰å…¨ç¢ºèªï¼‰
echo "ğŸ”¨ Step 2: åˆ‡ã‚Šæ›¿ãˆå¾Œã®ãƒ“ãƒ«ãƒ‰ãƒ†ã‚¹ãƒˆ..."
npm run build
if [ $? -eq 0 ]; then
  echo "âœ… ãƒ“ãƒ«ãƒ‰æˆåŠŸ - åˆ‡ã‚Šæ›¿ãˆå®Œäº†"
else
  echo "âŒ ãƒ“ãƒ«ãƒ‰å¤±æ•— - ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯å®Ÿè¡Œ"
  # è‡ªå‹•ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯
  mv src/utils/base-integration/seo-connector.ts src/utils/base-integration/seo-connector-unified.ts
  mv src/utils/base-integration/data-flow-builder.ts src/utils/base-integration/data-flow-builder-unified.ts
  mv src/utils/base-integration/seo-connector.ts.disabled src/utils/base-integration/seo-connector.ts
  mv src/utils/base-integration/data-flow-builder.ts.disabled src/utils/base-integration/data-flow-builder.ts
  echo "ğŸ”„ ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯å®Œäº†"
  exit 1
fi

# 4-3. å¤ã„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®å‰Šé™¤
echo "ğŸ—‘ï¸ Step 3: å¤ã„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå‰Šé™¤..."

# Astroã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå‰Šé™¤
rm src/components/public-components/HeadSEO.astro
rm src/components/public-components/BasicSEO.astro
rm src/components/public-components/MetaManager.astro

# å¤ã„ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£å‰Šé™¤
rm -rf src/utils/new-seo-system/

# å¤ã„å‹å®šç¾©å‰Šé™¤
rm -rf src/types/new-seo-system/

# ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå‰Šé™¤
rm -rf src/types-backup-20250903-105919/
rm -rf src/types-backup-/

# ç„¡åŠ¹åŒ–ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«å‰Šé™¤
rm src/utils/base-integration/seo-connector.ts.disabled
rm src/utils/base-integration/data-flow-builder.ts.disabled

echo "âœ… å¤ã„ã‚·ã‚¹ãƒ†ãƒ å‰Šé™¤å®Œäº†"

# 4-4. æœ€çµ‚ãƒ“ãƒ«ãƒ‰ãƒ†ã‚¹ãƒˆ
echo "ğŸ”¨ Step 4: æœ€çµ‚ãƒ“ãƒ«ãƒ‰ãƒ†ã‚¹ãƒˆ..."
npm run build
npm run type-check
if [ $? -eq 0 ]; then
  echo "âœ… å‰Šé™¤å¾Œãƒ“ãƒ«ãƒ‰æˆåŠŸ - ç§»è¡Œå®Œäº†"
else
  echo "âŒ å‰Šé™¤å¾Œãƒ“ãƒ«ãƒ‰å¤±æ•— - ç·Šæ€¥ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯å¿…è¦"
  exit 1
fi

# 4-5. æœªä½¿ç”¨ã‚¤ãƒ³ãƒãƒ¼ãƒˆã®ç¢ºèªã¨æ¸…ç†
echo "ğŸ§¹ Step 5: æœªä½¿ç”¨ã‚¤ãƒ³ãƒãƒ¼ãƒˆã®æ¸…ç†..."
grep -r "HeadSEO\|BasicSEO\|MetaManager" src/ --include="*.astro" --include="*.ts" || echo "âœ… æœªä½¿ç”¨ã‚¤ãƒ³ãƒãƒ¼ãƒˆãªã—"
grep -r "new-seo-system" src/ --include="*.astro" --include="*.ts" || echo "âœ… å¤ã„ã‚·ã‚¹ãƒ†ãƒ å‚ç…§ãªã—"
grep -r "NewSEO" src/ --include="*.astro" --include="*.ts" || echo "âœ… å¤ã„ã‚¯ãƒ©ã‚¹å‚ç…§ãªã—"

echo "ğŸ‰ å¤ã„ã‚·ã‚¹ãƒ†ãƒ å‰Šé™¤å®Œäº†"
```

---

## âš ï¸ **é‡å¤§ãƒªã‚¹ã‚¯åˆ†æã¨ãƒªã‚¹ã‚¯è»½æ¸›ç­–**

### **ğŸ“Š ãƒªã‚¹ã‚¯è©•ä¾¡ãƒãƒˆãƒªãƒƒã‚¯ã‚¹**

| ãƒªã‚¹ã‚¯é …ç›® | ç¢ºç‡ | å½±éŸ¿åº¦ | ãƒªã‚¹ã‚¯ãƒ¬ãƒ™ãƒ« | è»½æ¸›ç­– |
|-----------|------|--------|-------------|--------|
| **ãƒ“ãƒ«ãƒ‰å¤±æ•—** | é«˜ | é«˜ | ğŸ”´ **Critical** | æ®µéšçš„å‰Šé™¤ã€è‡ªå‹•ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ |
| **ä¾å­˜é–¢ä¿‚ã‚¨ãƒ©ãƒ¼** | é«˜ | é«˜ | ğŸ”´ **Critical** | ä»£æ›¿å®Ÿè£…ä½œæˆã€äº‹å‰ãƒ†ã‚¹ãƒˆ |
| **å‹å®šç¾©ã‚¨ãƒ©ãƒ¼** | ä¸­ | é«˜ | ğŸŸ¡ **High** | TypeScript strict modeãƒã‚§ãƒƒã‚¯ |
| **ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã‚¨ãƒ©ãƒ¼** | ä¸­ | ä¸­ | ğŸŸ¡ **Medium** | E2Eãƒ†ã‚¹ãƒˆã€æ®µéšçš„ãƒ‡ãƒ—ãƒ­ã‚¤ |
| **SEOæ©Ÿèƒ½ä½ä¸‹** | ä½ | é«˜ | ğŸŸ¡ **Medium** | æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆã€ãƒ¡ã‚¿ã‚¿ã‚°æ¤œè¨¼ |
| **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åŠ£åŒ–** | ä½ | ä¸­ | ğŸŸ¢ **Low** | Lighthouseã‚¹ã‚³ã‚¢ç›£è¦– |

### **ğŸ›¡ï¸ ãƒªã‚¹ã‚¯è»½æ¸›ç­–ã®è©³ç´°**

#### **1. Critical Risk: ãƒ“ãƒ«ãƒ‰å¤±æ•—å¯¾ç­–**

**å¯¾ç­–A: æ®µéšçš„å‰Šé™¤ãƒ—ãƒ­ã‚»ã‚¹**
```bash
# å‰Šé™¤å‰ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ
echo "ğŸ” å‰Šé™¤å‰ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆå®Ÿè¡Œ..."

# 1. ç¾åœ¨ã®ãƒ“ãƒ«ãƒ‰çŠ¶æ…‹ç¢ºèª
npm run build
if [ $? -ne 0 ]; then
  echo "âŒ ç¾åœ¨ã®ãƒ“ãƒ«ãƒ‰ãŒå¤±æ•— - ä¿®å¾©ã—ã¦ã‹ã‚‰ç§»è¡Œé–‹å§‹"
  exit 1
fi

# 2. ä¾å­˜é–¢ä¿‚ã®è©³ç´°ãƒãƒƒãƒ”ãƒ³ã‚°
echo "ğŸ“‹ ä¾å­˜é–¢ä¿‚ãƒãƒƒãƒ”ãƒ³ã‚°ä½œæˆ..."
cat > temp/dependency-map.json << EOF
{
  "seo-connector.ts": {
    "imports": ["NewSEOMetaManager", "NewSEOKeywordValidator"],
    "exportedBy": [],
    "usedBy": ["docs/[slug].astro"],
    "replacement": "seo-connector-unified.ts"
  },
  "data-flow-builder.ts": {
    "imports": ["NewSEOMetaManager", "NewSEOKeywordValidator"],
    "exportedBy": [],
    "usedBy": ["docs.astro"],
    "replacement": "data-flow-builder-unified.ts"
  }
}
EOF

# 3. ãƒ•ã‚¡ã‚¤ãƒ«å‰Šé™¤å‰ã®å½±éŸ¿ç¯„å›²ãƒ†ã‚¹ãƒˆ
echo "ğŸ§ª å½±éŸ¿ç¯„å›²ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ..."
for file in src/utils/new-seo-system/*.ts; do
  echo "Testing removal of $file..."
  mv "$file" "$file.temp"
  npm run type-check
  if [ $? -ne 0 ]; then
    echo "âš ï¸ $file removal causes errors - needs replacement"
    mv "$file.temp" "$file"
  else
    echo "âœ… $file can be safely removed"
    mv "$file.temp" "$file"
  fi
done
```

**å¯¾ç­–B: è‡ªå‹•ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚·ã‚¹ãƒ†ãƒ **
```bash
# è‡ªå‹•ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯é–¢æ•°
rollback_changes() {
  local ROLLBACK_REASON="$1"
  echo "ğŸš¨ ROLLBACK INITIATED: $ROLLBACK_REASON"
  
  # 1. ç¾åœ¨ã®å¤‰æ›´ã‚’ä¿å­˜
  FAILED_DIR="backup/failed-migration/$(date +%Y%m%d_%H%M%S)"
  mkdir -p $FAILED_DIR
  cp -r src/ $FAILED_DIR/
  
  # 2. ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‹ã‚‰å¾©å…ƒ
  if [ -d "$BACKUP_DIR" ]; then
    echo "ğŸ“¦ Restoring from backup: $BACKUP_DIR"
    
    # ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå¾©å…ƒ
    cp -r $BACKUP_DIR/components/* src/components/public-components/
    cp -r $BACKUP_DIR/layouts/* src/layouts/
    cp -r $BACKUP_DIR/pages/* src/pages/
    
    # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£å¾©å…ƒ
    cp -r $BACKUP_DIR/utils/* src/utils/
    cp -r $BACKUP_DIR/types/* src/types/
    
    echo "âœ… Rollback completed"
  else
    echo "âŒ CRITICAL: Backup directory not found!"
    exit 1
  fi
  
  # 3. ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯å¾Œã®ãƒ“ãƒ«ãƒ‰ãƒ†ã‚¹ãƒˆ
  npm run build
  if [ $? -eq 0 ]; then
    echo "âœ… Rollback successful - system restored"
  else
    echo "âŒ CRITICAL: Rollback failed - manual intervention required"
    exit 1
  fi
}

# ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯é–¢æ•°ã‚’ã™ã¹ã¦ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§åˆ©ç”¨å¯èƒ½ã«ã™ã‚‹
export -f rollback_changes
```

#### **2. Critical Risk: ä¾å­˜é–¢ä¿‚ã‚¨ãƒ©ãƒ¼å¯¾ç­–**

**å¯¾ç­–A: ä¾å­˜é–¢ä¿‚ã®å®Œå…¨ãªãƒãƒƒãƒ”ãƒ³ã‚°ã¨ä»£æ›¿å®Ÿè£…**
```typescript
// src/types/unified-seo-migration.ts
// ç§»è¡ŒæœŸé–“ä¸­ã®å‹å®šç¾©çµ±åˆ

export interface MigrationSafeConfig {
  // æ—¢å­˜ã®å‹å®šç¾©ã¨ã®äº’æ›æ€§ã‚’ä¿ã¤
  seoConnector?: {
    enableUnified: boolean;
    fallbackToOld: boolean;
  };
  dataFlowBuilder?: {
    enableUnified: boolean;
    fallbackToOld: boolean;
  };
}

// æ®µéšçš„ç§»è¡Œã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹å‹å®šç¾©
export type MigrationPhase = 'preparation' | 'transition' | 'cleanup' | 'completed';

export interface MigrationState {
  phase: MigrationPhase;
  completedSteps: string[];
  failedSteps: string[];
  rollbackAvailable: boolean;
}
```

**å¯¾ç­–B: äº’æ›ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®å®Ÿè£…**
```typescript
// src/utils/migration/compatibility-layer.ts
// å¤ã„ã‚·ã‚¹ãƒ†ãƒ ã¨æ–°ã—ã„ã‚·ã‚¹ãƒ†ãƒ ã®äº’æ›æ€§ãƒ¬ã‚¤ãƒ¤ãƒ¼

import { UnifiedSEOConnector } from '../base-integration/seo-connector';
import { UnifiedDataFlowBuilder } from '../base-integration/data-flow-builder';

/**
 * ç§»è¡ŒæœŸé–“ä¸­ã®äº’æ›æ€§ãƒ¬ã‚¤ãƒ¤ãƒ¼
 * æ—¢å­˜ã®APIã‚’ç¶­æŒã—ãªãŒã‚‰æ–°ã—ã„å®Ÿè£…ã‚’ä½¿ç”¨
 */
export class MigrationCompatibilityLayer {
  private unifiedConnector: UnifiedSEOConnector;
  private unifiedDataFlow: UnifiedDataFlowBuilder;

  constructor() {
    // è¨­å®šã¯ç’°å¢ƒå¤‰æ•°ã‚„è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰å–å¾—
    this.unifiedConnector = new UnifiedSEOConnector({
      apiEndpoint: 'unified-seo-endpoint',
      timeout: 5000,
      retries: 3
    });
    
    this.unifiedDataFlow = new UnifiedDataFlowBuilder({
      metadataFlow: true,
      seoFlow: true,
      validation: true
    });
  }

  // æ—¢å­˜ã®SEOConnector APIã‚’æ¨¡å€£
  async connect() {
    return this.unifiedConnector.connect();
  }

  async analyzeSEO(title: string, content: string, keywords: string[] = []) {
    return this.unifiedConnector.analyzeSEO(title, content, keywords);
  }

  // æ—¢å­˜ã®DataFlowBuilder APIã‚’æ¨¡å€£
  async buildDataFlow() {
    return this.unifiedDataFlow.build();
  }

  isConnectedToSEOSystem() {
    return this.unifiedConnector.isConnectedToSEOSystem();
  }
}

// ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆï¼ˆæ—¢å­˜ã‚³ãƒ¼ãƒ‰ã¨ã®äº’æ›æ€§ï¼‰
export const migrationLayer = new MigrationCompatibilityLayer();
```

#### **3. High Risk: å‹å®šç¾©ã‚¨ãƒ©ãƒ¼å¯¾ç­–**

**å¯¾ç­–A: å‹å®šç¾©ã®æ®µéšçš„ç§»è¡Œ**
```bash
# TypeScriptå‹ãƒã‚§ãƒƒã‚¯ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
echo "ğŸ” TypeScriptå‹ãƒã‚§ãƒƒã‚¯å¼·åŒ–..."

# 1. å³å¯†ãªå‹ãƒã‚§ãƒƒã‚¯è¨­å®š
cat > tsconfig.migration.json << EOF
{
  "extends": "./tsconfig.json",
  "compilerOptions": {
    "strict": true,
    "noImplicitAny": true,
    "strictNullChecks": true,
    "strictFunctionTypes": true,
    "noImplicitReturns": true,
    "noUnusedLocals": true,
    "noUnusedParameters": true
  },
  "include": [
    "src/**/*"
  ],
  "exclude": [
    "src/**/*.disabled",
    "src/types-backup-*/**/*"
  ]
}
EOF

# 2. å‹ãƒã‚§ãƒƒã‚¯å®Ÿè¡Œ
npx tsc --project tsconfig.migration.json --noEmit
if [ $? -ne 0 ]; then
  echo "âŒ å‹ã‚¨ãƒ©ãƒ¼æ¤œå‡º - ä¿®æ­£ãŒå¿…è¦"
  # å‹ã‚¨ãƒ©ãƒ¼ã®è©³ç´°åˆ†æ
  npx tsc --project tsconfig.migration.json --noEmit --listFiles > temp/type-errors.log 2>&1
  echo "ğŸ“‹ å‹ã‚¨ãƒ©ãƒ¼è©³ç´°: temp/type-errors.log"
  exit 1
fi
```

**å¯¾ç­–B: å‹å®šç¾©ã®å®‰å…¨ãªç§»è¡Œãƒ‘ã‚¹**
```typescript
// src/types/migration-safe.ts
// ç§»è¡ŒæœŸé–“ä¸­ã®å®‰å…¨ãªå‹å®šç¾©

// æ—¢å­˜ã®å‹å®šç¾©ã¨ã®äº’æ›æ€§ã‚’ä¿ã¤ãƒ¦ãƒ‹ã‚ªãƒ³å‹
export type LegacyOrUnified<T> = T | UnifiedVersion<T>;

// å¤ã„APIã¨æ–°ã—ã„APIã®ä¸¡æ–¹ã‚’ã‚µãƒãƒ¼ãƒˆ
export interface SafeMigrationAPI {
  // æ—¢å­˜ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚·ã‚°ãƒãƒãƒ£ã‚’ä¿æŒ
  analyzeSEO?: (title: string, content: string, keywords?: string[]) => Promise<any>;
  
  // æ–°ã—ã„ãƒ¡ã‚½ãƒƒãƒ‰ã‚·ã‚°ãƒãƒãƒ£
  analyzeUnifiedSEO?: (props: UnifiedSEOProps) => Promise<UnifiedSEOResult>;
}

// æ®µéšçš„ã«ç§»è¡Œã§ãã‚‹è¨­å®š
export interface MigrationSafeProps {
  // æ—¢å­˜ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ï¼ˆå»ƒæ­¢äºˆå®šï¼‰
  title?: string;
  description?: string;
  keywords?: string[];
  
  // æ–°ã—ã„ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£
  frontmatter?: FrontmatterData;
  pageType?: PageType;
  
  // ç§»è¡Œåˆ¶å¾¡
  useLegacyMode?: boolean;
}
```

### **ğŸ”„ ç·Šæ€¥æ™‚ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯æ‰‹é †**

#### **ãƒ¬ãƒ™ãƒ«1: ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼ï¼ˆè‡ªå‹•ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼‰**
```bash
# è‡ªå‹•ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼ˆ5åˆ†ä»¥å†…ã«å®Œäº†ï¼‰
AUTO_ROLLBACK_LEVEL1() {
  echo "ğŸš¨ Level 1 Rollback: Build Error"
  
  # 1. å³åº§ã«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å…ƒã«æˆ»ã™
  if [ -f "src/utils/base-integration/seo-connector.ts.disabled" ]; then
    mv src/utils/base-integration/seo-connector.ts src/utils/base-integration/seo-connector-unified.ts
    mv src/utils/base-integration/seo-connector.ts.disabled src/utils/base-integration/seo-connector.ts
  fi
  
  # 2. ãƒ“ãƒ«ãƒ‰ãƒ†ã‚¹ãƒˆ
  npm run build
  if [ $? -eq 0 ]; then
    echo "âœ… Level 1 Rollback Success"
    return 0
  else
    echo "âŒ Level 1 Rollback Failed - Escalating to Level 2"
    return 1
  fi
}
```

#### **ãƒ¬ãƒ™ãƒ«2: é‡å¤§ã‚·ã‚¹ãƒ†ãƒ ã‚¨ãƒ©ãƒ¼ï¼ˆæ‰‹å‹•ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼‰**
```bash
# æ‰‹å‹•ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼ˆ15åˆ†ä»¥å†…ã«å®Œäº†ï¼‰
MANUAL_ROLLBACK_LEVEL2() {
  echo "ğŸš¨ Level 2 Rollback: Critical System Error"
  
  # 1. å®Œå…¨ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‹ã‚‰ã®å¾©å…ƒ
  if [ -d "$BACKUP_DIR" ]; then
    echo "ğŸ“¦ Full restoration from backup..."
    
    # ç¾åœ¨ã®çŠ¶æ…‹ã‚’ä¿å­˜
    mv src/ src-failed-$(date +%Y%m%d_%H%M%S)/
    
    # ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‹ã‚‰å®Œå…¨å¾©å…ƒ
    mkdir -p src/
    cp -r $BACKUP_DIR/* src/
    
    # æ¨©é™ä¿®å¾©
    chmod -R 755 src/
    
    # ãƒ•ãƒ«ãƒ“ãƒ«ãƒ‰ãƒ†ã‚¹ãƒˆ
    npm run build
    npm run type-check
    
    if [ $? -eq 0 ]; then
      echo "âœ… Level 2 Rollback Success"
      return 0
    else
      echo "âŒ Level 2 Rollback Failed - Escalating to Level 3"
      return 1
    fi
  else
    echo "âŒ CRITICAL: No backup available for Level 2 rollback"
    return 1
  fi
}
```

#### **ãƒ¬ãƒ™ãƒ«3: ã‚«ã‚¿ã‚¹ãƒˆãƒ­ãƒ•ã‚£ãƒƒã‚¯ã‚¨ãƒ©ãƒ¼ï¼ˆGitãƒªã‚»ãƒƒãƒˆï¼‰**
```bash
# Git ãƒªã‚»ãƒƒãƒˆï¼ˆ30åˆ†ä»¥å†…ã«å®Œäº†ï¼‰
GIT_RESET_LEVEL3() {
  echo "ğŸš¨ Level 3 Rollback: Catastrophic Error - Git Reset"
  
  # 1. ç¾åœ¨ã®å¤‰æ›´ã‚’ä¿å­˜
  git add .
  git commit -m "EMERGENCY: Failed migration attempt $(date)"
  
  # 2. ç§»è¡Œé–‹å§‹å‰ã®ã‚³ãƒŸãƒƒãƒˆã«æˆ»ã‚‹
  LAST_GOOD_COMMIT=$(git log --oneline --before="$(date -d '1 day ago')" -1 --format="%H")
  
  if [ -n "$LAST_GOOD_COMMIT" ]; then
    echo "ğŸ“¦ Resetting to last good commit: $LAST_GOOD_COMMIT"
    git reset --hard $LAST_GOOD_COMMIT
    
    # 3. å¼·åˆ¶çš„ã«ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
    git clean -fd
    
    # 4. ä¾å­˜é–¢ä¿‚å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
    npm ci
    
    # 5. ãƒ•ãƒ«ãƒ“ãƒ«ãƒ‰ãƒ†ã‚¹ãƒˆ
    npm run build
    npm run type-check
    
    if [ $? -eq 0 ]; then
      echo "âœ… Level 3 Rollback Success - System Restored"
      return 0
    else
      echo "âŒ CRITICAL: Level 3 Rollback Failed - Manual intervention required"
      return 1
    fi
  else
    echo "âŒ CRITICAL: Cannot find last good commit"
    return 1
  fi
}
```

### **ğŸ“… æ—¥ã”ã¨ã®è©³ç´°å®Ÿè£…è¨ˆç”»**

#### **Day 1: æº–å‚™ã¨UnifiedSEOã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä½œæˆ**

##### **ğŸŒ… Morning (09:00-12:00): ç’°å¢ƒæº–å‚™ã¨ä¾å­˜é–¢ä¿‚åˆ†æ**

```bash
# 9:00-9:30: ä½œæ¥­ç’°å¢ƒæº–å‚™
echo "ğŸ“… Day 1 Morning: ç’°å¢ƒæº–å‚™é–‹å§‹"
echo "ğŸ• é–‹å§‹æ™‚åˆ»: $(date)"

# 1. ä½œæ¥­ãƒ–ãƒ©ãƒ³ãƒä½œæˆ
echo "ğŸŒ¿ Step 1: ä½œæ¥­ãƒ–ãƒ©ãƒ³ãƒä½œæˆ..."
git checkout -b feature/unified-seo-implementation
git push -u origin feature/unified-seo-implementation
echo "âœ… ãƒ–ãƒ©ãƒ³ãƒä½œæˆå®Œäº†: feature/unified-seo-implementation"

# 2. ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ æº–å‚™
echo "ğŸ“ Step 2: ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ æº–å‚™..."
mkdir -p temp/migration-logs
mkdir -p temp/dependency-analysis
mkdir -p temp/backup-status
mkdir -p backup/unified-seo-migration
echo "âœ… ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ æº–å‚™å®Œäº†"

# 3. ç¾åœ¨ã®çŠ¶æ…‹ã‚’ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³ã¨ã—ã¦è¨˜éŒ²
echo "ğŸ“Š Step 3: ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³çŠ¶æ…‹è¨˜éŒ²..."
echo "ğŸ”¨ ãƒ“ãƒ«ãƒ‰çŠ¶æ…‹ç¢ºèªä¸­..."
npm run build > temp/migration-logs/baseline-build.log 2>&1
BUILD_EXIT_CODE=$?

if [ $BUILD_EXIT_CODE -eq 0 ]; then
  echo "âœ… ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³ãƒ“ãƒ«ãƒ‰æˆåŠŸ"
  echo "SUCCESS" > temp/backup-status/baseline-build.status
else
  echo "âŒ ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³ãƒ“ãƒ«ãƒ‰å¤±æ•— - ç§»è¡Œå‰ã®ä¿®å¾©ãŒå¿…è¦"
  echo "FAILED" > temp/backup-status/baseline-build.status
  echo "ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼è©³ç´°: temp/migration-logs/baseline-build.log"
  exit 1
fi

echo "ğŸ” å‹ãƒã‚§ãƒƒã‚¯å®Ÿè¡Œä¸­..."
npm run type-check > temp/migration-logs/baseline-types.log 2>&1
TYPE_CHECK_EXIT_CODE=$?

if [ $TYPE_CHECK_EXIT_CODE -eq 0 ]; then
  echo "âœ… ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³å‹ãƒã‚§ãƒƒã‚¯æˆåŠŸ"
  echo "SUCCESS" > temp/backup-status/baseline-types.status
else
  echo "âš ï¸ ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³å‹ãƒã‚§ãƒƒã‚¯å¤±æ•— - å‹ã‚¨ãƒ©ãƒ¼ã®ä¿®æ­£ãŒå¿…è¦"
  echo "FAILED" > temp/backup-status/baseline-types.status
fi

echo "ğŸ§ª ãƒ†ã‚¹ãƒˆå®Ÿè¡Œä¸­..."
npm run test > temp/migration-logs/baseline-tests.log 2>&1
TEST_EXIT_CODE=$?

if [ $TEST_EXIT_CODE -eq 0 ]; then
  echo "âœ… ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³ãƒ†ã‚¹ãƒˆæˆåŠŸ"
  echo "SUCCESS" > temp/backup-status/baseline-tests.status
else
  echo "âš ï¸ ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³ãƒ†ã‚¹ãƒˆå¤±æ•— - ãƒ†ã‚¹ãƒˆã‚¨ãƒ©ãƒ¼ã®ä¿®æ­£ãŒå¿…è¦"
  echo "FAILED" > temp/backup-status/baseline-tests.status
fi

# 4. ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³çŠ¶æ…‹ã‚µãƒãƒªãƒ¼ä½œæˆ
cat > temp/migration-logs/day1-baseline-summary.md << EOF
# Day 1 ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³çŠ¶æ…‹ã‚µãƒãƒªãƒ¼

## å®Ÿè¡Œæ™‚åˆ»
- é–‹å§‹: $(date)
- ãƒ–ãƒ©ãƒ³ãƒ: feature/unified-seo-implementation

## ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³çŠ¶æ…‹
- ãƒ“ãƒ«ãƒ‰: $(cat temp/backup-status/baseline-build.status)
- å‹ãƒã‚§ãƒƒã‚¯: $(cat temp/backup-status/baseline-types.status)
- ãƒ†ã‚¹ãƒˆ: $(cat temp/backup-status/baseline-tests.status)

## æ³¨æ„äº‹é …
- ãƒ“ãƒ«ãƒ‰ãŒå¤±æ•—ã—ã¦ã„ã‚‹å ´åˆã¯ç§»è¡Œã‚’é–‹å§‹ã§ãã¾ã›ã‚“
- å‹ã‚¨ãƒ©ãƒ¼ã‚„ãƒ†ã‚¹ãƒˆã‚¨ãƒ©ãƒ¼ã¯ç§»è¡Œå‰ã«ä¿®æ­£ãŒå¿…è¦ã§ã™

## æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—
- ä¾å­˜é–¢ä¿‚ã®è©³ç´°åˆ†æ
- å‹å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ
- UnifiedSEOã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå®Ÿè£…
EOF

echo "âœ… ç’°å¢ƒæº–å‚™å®Œäº†"
echo "ğŸ“‹ ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³ã‚µãƒãƒªãƒ¼: temp/migration-logs/day1-baseline-summary.md"
```

# 9:30-10:30: ä¾å­˜é–¢ä¿‚ã®è©³ç´°åˆ†æ
echo "ğŸ” Step 4: ä¾å­˜é–¢ä¿‚è©³ç´°åˆ†æé–‹å§‹..."
echo "ğŸ• åˆ†æé–‹å§‹æ™‚åˆ»: $(date)"

# 4-1. SEOã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä½¿ç”¨ç®‡æ‰€ã®ç‰¹å®š
echo "ğŸ“‹ Step 4-1: SEOã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä½¿ç”¨ç®‡æ‰€ç‰¹å®š..."
grep -r "HeadSEO" src/ --include="*.astro" --include="*.ts" > temp/dependency-analysis/headseo-usage.log
grep -r "BasicSEO" src/ --include="*.astro" --include="*.ts" > temp/dependency-analysis/basicseo-usage.log
grep -r "MetaManager" src/ --include="*.astro" --include="*.ts" > temp/dependency-analysis/metamanager-usage.log

# ä½¿ç”¨ç®‡æ‰€ã®çµ±è¨ˆ
HEADSEO_COUNT=$(wc -l < temp/dependency-analysis/headseo-usage.log)
BASICSEO_COUNT=$(wc -l < temp/dependency-analysis/basicseo-usage.log)
METAMANAGER_COUNT=$(wc -l < temp/dependency-analysis/metamanager-usage.log)

echo "ğŸ“Š SEOã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä½¿ç”¨ç®‡æ‰€çµ±è¨ˆ:"
echo "   - HeadSEO: $HEADSEO_COUNT ç®‡æ‰€"
echo "   - BasicSEO: $BASICSEO_COUNT ç®‡æ‰€"
echo "   - MetaManager: $METAMANAGER_COUNT ç®‡æ‰€"

# 4-2. new-seo-systemã®ä¾å­˜é–¢ä¿‚åˆ†æ
echo "ğŸ”— Step 4-2: new-seo-systemä¾å­˜é–¢ä¿‚åˆ†æ..."
find src/ -name "*.ts" -exec grep -l "new-seo-system" {} \; > temp/dependency-analysis/new-seo-system-deps.log
find src/ -name "*.ts" -exec grep -l "NewSEO" {} \; > temp/dependency-analysis/newseo-class-deps.log

# ä¾å­˜é–¢ä¿‚ã®çµ±è¨ˆ
NEW_SEO_DEPS_COUNT=$(wc -l < temp/dependency-analysis/new-seo-system-deps.log)
NEWSEO_CLASS_DEPS_COUNT=$(wc -l < temp/dependency-analysis/newseo-class-deps.log)

echo "ğŸ“Š ä¾å­˜é–¢ä¿‚çµ±è¨ˆ:"
echo "   - new-seo-system: $NEW_SEO_DEPS_COUNT ãƒ•ã‚¡ã‚¤ãƒ«"
echo "   - NewSEOã‚¯ãƒ©ã‚¹: $NEWSEO_CLASS_DEPS_COUNT ãƒ•ã‚¡ã‚¤ãƒ«"

# 4-3. ä¾å­˜é–¢ä¿‚ã®å½±éŸ¿åº¦è©•ä¾¡
echo "ğŸ“ˆ Step 4-3: ä¾å­˜é–¢ä¿‚ã®å½±éŸ¿åº¦è©•ä¾¡..."
cat > temp/dependency-analysis/dependency-impact-report.md << EOF
# ä¾å­˜é–¢ä¿‚å½±éŸ¿åº¦ãƒ¬ãƒãƒ¼ãƒˆ

## ç”Ÿæˆæ™‚åˆ»
$(date)

## SEOã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä½¿ç”¨çŠ¶æ³
- HeadSEO: $HEADSEO_COUNT ç®‡æ‰€
- BasicSEO: $BASICSEO_COUNT ç®‡æ‰€
- MetaManager: $METAMANAGER_COUNT ç®‡æ‰€

## ä¾å­˜é–¢ä¿‚çŠ¶æ³
- new-seo-system: $NEW_SEO_DEPS_COUNT ãƒ•ã‚¡ã‚¤ãƒ«
- NewSEOã‚¯ãƒ©ã‚¹: $NEWSEO_CLASS_DEPS_COUNT ãƒ•ã‚¡ã‚¤ãƒ«

## å½±éŸ¿åº¦è©•ä¾¡
- **HIGH**: 10ãƒšãƒ¼ã‚¸ä»¥ä¸Šã§ä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- **MEDIUM**: 5-9ãƒšãƒ¼ã‚¸ã§ä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- **LOW**: 4ãƒšãƒ¼ã‚¸ä»¥ä¸‹ã§ä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

## ç§»è¡Œå„ªå…ˆåº¦
1. HeadSEO (ä½¿ç”¨ç®‡æ‰€: $HEADSEO_COUNT) - å„ªå…ˆåº¦: $(if [ $HEADSEO_COUNT -gt 9 ]; then echo "HIGH"; elif [ $HEADSEO_COUNT -gt 4 ]; then echo "MEDIUM"; else echo "LOW"; fi)
2. BasicSEO (ä½¿ç”¨ç®‡æ‰€: $BASICSEO_COUNT) - å„ªå…ˆåº¦: $(if [ $BASICSEO_COUNT -gt 9 ]; then echo "HIGH"; elif [ $BASICSEO_COUNT -gt 4 ]; then echo "MEDIUM"; else echo "LOW"; fi)
3. MetaManager (ä½¿ç”¨ç®‡æ‰€: $METAMANAGER_COUNT) - å„ªå…ˆåº¦: $(if [ $METAMANAGER_COUNT -gt 9 ]; then echo "HIGH"; elif [ $METAMANAGER_COUNT -gt 4 ]; then echo "MEDIUM"; else echo "LOW"; fi)

## æ³¨æ„äº‹é …
- ä½¿ç”¨ç®‡æ‰€ãŒå¤šã„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯æ…é‡ã«ç§»è¡Œã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™
- ä¾å­˜é–¢ä¿‚ã®å¤šã„ãƒ•ã‚¡ã‚¤ãƒ«ã¯ä»£æ›¿å®Ÿè£…ã‚’äº‹å‰ã«æº–å‚™ã—ã¦ãã ã•ã„
EOF

echo "âœ… ä¾å­˜é–¢ä¿‚åˆ†æå®Œäº†"
echo "ğŸ“‹ å½±éŸ¿åº¦ãƒ¬ãƒãƒ¼ãƒˆ: temp/dependency-analysis/dependency-impact-report.md"

# 10:30-11:00: ã‚³ãƒ¼ãƒ’ãƒ¼ãƒ–ãƒ¬ã‚¤ã‚¯
echo "â˜• Coffee Break (10:30-11:00)"

# 11:00-12:00: å‹å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ
echo "ğŸ“ å‹å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆé–‹å§‹"
mkdir -p src/types/unified-seo

cat > src/types/unified-seo/index.ts << 'EOF'
// Unified SEO System Types
// çµ±åˆSEOã‚·ã‚¹ãƒ†ãƒ ã®å‹å®šç¾©

export interface UnifiedSEOProps {
  // åŸºæœ¬ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿
  title?: string;
  description?: string;
  keywords?: string[];
  canonical?: string;
  lang?: string;
  
  // ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼è‡ªå‹•å¯¾å¿œ
  frontmatter?: FrontmatterData;
  
  // ãƒšãƒ¼ã‚¸ã‚¿ã‚¤ãƒ—åˆ¥è¨­å®š
  pageType?: PageType;
  
  // JSON-LDè¨­å®š
  structuredData?: StructuredDataConfig;
  
  // ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–
  preload?: PreloadResource[];
  
  // ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®š
  security?: SecurityConfig;
  
  // Google Analytics
  gtag?: string;
}

export interface FrontmatterData {
  title?: string;
  description?: string;
  tags?: string[];
  publishedDate?: string;
  modifiedDate?: string;
  author?: string;
  image?: string;
  category?: string;
  difficulty?: string;
  readTime?: string;
}

export type PageType = 'website' | 'article' | 'blog' | 'docs' | 'tools';

export interface StructuredDataConfig {
  type?: 'WebSite' | 'Article' | 'BlogPosting' | 'TechArticle';
  author?: string;
  datePublished?: string;
  dateModified?: string;
  image?: string;
}

export interface PreloadResource {
  href: string;
  as: 'script' | 'style' | 'font' | 'image';
  type?: string;
  crossorigin?: string;
}

export interface SecurityConfig {
  csp?: string;
  hsts?: boolean;
  noindex?: boolean;
}
EOF

echo "âœ… å‹å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆå®Œäº†"
```

**Afternoon (13:00-18:00): UnifiedSEOã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå®Ÿè£…ã¨åŸºæœ¬ãƒ†ã‚¹ãƒˆ**

#### **ğŸ• 13:00-14:30: UnifiedSEOã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå®Ÿè£…ï¼ˆ90åˆ†ï¼‰**

```bash
echo "ğŸ—ï¸ UnifiedSEOã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå®Ÿè£…é–‹å§‹"

# 1. ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ç¢ºèªã¨ä½œæˆ
if [ ! -d "src/components" ]; then
  mkdir -p src/components
  echo "ğŸ“ src/componentsãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆ"
fi

# 2. UnifiedSEO.astroãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ
echo "ğŸ“ UnifiedSEO.astroãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆä¸­..."
cat > src/components/UnifiedSEO.astro << 'EOF'
---
// UnifiedSEO.astro - çµ±åˆSEOã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
// è¨­è¨ˆä»•æ§˜: ã‚·ãƒ³ãƒ—ãƒ«ã§åŒ…æ‹¬çš„ãªSEOç®¡ç†

export interface Props {
  // åŸºæœ¬SEOæƒ…å ±
  title?: string;
  description?: string;
  keywords?: string[];
  pageType?: 'website' | 'article' | 'blog' | 'product' | 'organization';
  
  // ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼ï¼ˆMD/MDXãƒ•ã‚¡ã‚¤ãƒ«ç”¨ï¼‰
  frontmatter?: {
    title?: string;
    description?: string;
    tags?: string[];
    publishedDate?: string;
    modifiedDate?: string;
    author?: string;
    image?: string;
    category?: string;
    difficulty?: string;
    readTime?: string;
  };
  
  // é«˜åº¦ãªè¨­å®š
  preload?: Array<{ href: string; as: string; type?: string }>;
  security?: {
    csp?: string;
    hsts?: boolean;
    noindex?: boolean;
  };
  gtag?: string;
  robots?: boolean;
}

const {
  title,
  description,
  keywords = [],
  pageType = 'website',
  frontmatter,
  preload = [],
  security = {},
  gtag,
  robots = true
} = Astro.props;

// ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼å„ªå…ˆã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿æŠ½å‡º
const finalTitle = frontmatter?.title || title || 'GoRakuDo';
const finalDescription = frontmatter?.description || description || 'æ—¥æœ¬èªå­¦ç¿’ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ';
const finalKeywords = [...new Set([...keywords, ...(frontmatter?.tags || [])])];
const finalImage = frontmatter?.image || '/images/default-og.jpg';

// JSON-LDæ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ
const jsonLD = {
  "@context": "https://schema.org",
  "@type": pageType === 'article' ? 'Article' : 'WebSite',
  "name": finalTitle,
  "description": finalDescription,
  "url": Astro.url.href,
  ...(pageType === 'article' && frontmatter && {
    "datePublished": frontmatter.publishedDate,
    "dateModified": frontmatter.modifiedDate || frontmatter.publishedDate,
    "author": {
      "@type": "Person",
      "name": frontmatter.author || "GoRakuDo Team"
    },
    "publisher": {
      "@type": "Organization",
      "name": "GoRakuDo",
      "logo": {
        "@type": "ImageObject",
        "url": "/images/logo.png"
      }
    },
    "image": finalImage,
    "articleSection": frontmatter.category,
    "keywords": finalKeywords.join(', ')
  })
};
---

<!-- SEO Meta Tags -->
<head>
  <!-- åŸºæœ¬ãƒ¡ã‚¿ã‚¿ã‚° -->
  <title>{finalTitle}</title>
  <meta name="description" content={finalDescription} />
  <meta name="keywords" content={finalKeywords.join(', ')} />
  <meta name="author" content={frontmatter?.author || "GoRakuDo Team"} />
  
  <!-- ãƒ­ãƒœãƒƒãƒˆè¨­å®š -->
  <meta name="robots" content={robots ? 'index, follow' : 'noindex, nofollow'} />
  
  <!-- Open Graph -->
  <meta property="og:title" content={finalTitle} />
  <meta property="og:description" content={finalDescription} />
  <meta property="og:type" content={pageType === 'article' ? 'article' : 'website'} />
  <meta property="og:url" content={Astro.url.href} />
  <meta property="og:image" content={finalImage} />
  <meta property="og:site_name" content="GoRakuDo" />
  <meta property="og:locale" content="ja_JP" />
  
  <!-- Twitter Cards -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content={finalTitle} />
  <meta name="twitter:description" content={finalDescription} />
  <meta name="twitter:image" content={finalImage} />
  
  <!-- æ­£è¦åŒ–ãƒªãƒ³ã‚¯ -->
  <link rel="canonical" href={Astro.url.href} />
  
  <!-- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ– -->
  {preload.map(({ href, as, type }) => (
    <link rel="preload" href={href} as={as} type={type} />
  ))}
  
  <!-- ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ˜ãƒƒãƒ€ãƒ¼ -->
  {security.csp && <meta http-equiv="Content-Security-Policy" content={security.csp} />}
  {security.hsts && <meta http-equiv="Strict-Transport-Security" content="max-age=31536000; includeSubDomains" />}
  
  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
  <link rel="apple-touch-icon" href="/apple-touch-icon.png" />
  <link rel="manifest" href="/manifest.json" />
  
  <!-- JSON-LD Structured Data -->
  <script type="application/ld+json" set:html={JSON.stringify(jsonLD)} />
  
  <!-- Google Analytics -->
  {gtag && (
    <>
      <script async src={`https://www.googletagmanager.com/gtag/js?id=${gtag}`}></script>
      <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', '{gtag}');
      </script>
    </>
  )}
</head>
EOF

echo "âœ… UnifiedSEO.astroã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä½œæˆå®Œäº†"
echo "ğŸ“Š ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚º: $(wc -l < src/components/UnifiedSEO.astro)è¡Œ"
```

#### **ğŸ• 14:30-15:00: ã‚³ãƒ¼ãƒ’ãƒ¼ãƒ–ãƒ¬ã‚¤ã‚¯ï¼ˆ30åˆ†ï¼‰**

```bash
echo "â˜• Coffee Break (14:30-15:00)"
echo "ğŸ’¡ ä¼‘æ†©ä¸­ã«ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®è¨­è¨ˆã‚’ç¢ºèª"
echo "ğŸ” æ¬¡ã®ãƒ†ã‚¹ãƒˆãƒ•ã‚§ãƒ¼ã‚ºã®æº–å‚™"
```

#### **ğŸ• 15:00-16:30: åŸºæœ¬å‹•ä½œãƒ†ã‚¹ãƒˆã¨æ¤œè¨¼ï¼ˆ90åˆ†ï¼‰**

```bash
echo "ğŸ§ª åŸºæœ¬å‹•ä½œãƒ†ã‚¹ãƒˆé–‹å§‹"

# 1. ãƒ†ã‚¹ãƒˆç”¨ãƒšãƒ¼ã‚¸ã®ä½œæˆ
echo "ğŸ“ ãƒ†ã‚¹ãƒˆç”¨ãƒšãƒ¼ã‚¸ä½œæˆä¸­..."
cat > src/pages/test-unified-seo.astro << 'EOF'
---
import UnifiedSEO from '../components/UnifiedSEO.astro';

const testFrontmatter = {
  title: "Test Unified SEO Component",
  description: "Testing the new unified SEO component with various configurations",
  tags: ["test", "seo", "unified", "astro"],
  publishedDate: "2024-12-31",
  modifiedDate: "2024-12-31",
  author: "GoRakuDo Team",
  image: "/images/test-og.jpg",
  category: "testing",
  difficulty: "beginner",
  readTime: "5 min"
};

const testProps = {
  title: "Override Title",
  description: "Override Description",
  keywords: ["override", "seo", "test"],
  pageType: "article" as const,
  frontmatter: testFrontmatter,
  preload: [
    { href: "/css/test.css", as: "style" },
    { href: "/js/test.js", as: "script" }
  ],
  security: {
    csp: "default-src 'self'; script-src 'self' 'unsafe-inline'",
    hsts: true,
    noindex: false
  },
  gtag: "GA_TEST_ID",
  robots: true
};
---

<html lang="ja">
  <UnifiedSEO {...testProps} />
  <body>
    <header>
      <h1>Unified SEO Test Page</h1>
      <p>This page tests the new unified SEO component with comprehensive configurations.</p>
    </header>
    
    <main>
      <section>
        <h2>Test Results</h2>
        <ul>
          <li>âœ… Frontmatter integration</li>
          <li>âœ… JSON-LD generation</li>
          <li>âœ… Meta tags generation</li>
          <li>âœ… Security headers</li>
          <li>âœ… Performance optimization</li>
        </ul>
      </section>
      
      <section>
        <h2>Frontmatter Data</h2>
        <pre>{JSON.stringify(testFrontmatter, null, 2)}</pre>
      </section>
    </main>
    
    <footer>
      <p>Generated at: {new Date().toISOString()}</p>
    </footer>
  </body>
</html>
EOF

echo "âœ… ãƒ†ã‚¹ãƒˆãƒšãƒ¼ã‚¸ä½œæˆå®Œäº†: src/pages/test-unified-seo.astro"

# 2. ãƒ“ãƒ«ãƒ‰ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
echo "ğŸ”¨ ãƒ“ãƒ«ãƒ‰ãƒ†ã‚¹ãƒˆå®Ÿè¡Œä¸­..."
npm run build
BUILD_EXIT_CODE=$?

if [ $BUILD_EXIT_CODE -eq 0 ]; then
  echo "âœ… åŸºæœ¬ãƒ“ãƒ«ãƒ‰ãƒ†ã‚¹ãƒˆæˆåŠŸ"
  echo "ğŸ“Š ãƒ“ãƒ«ãƒ‰å‡ºåŠ›ã‚µã‚¤ã‚º: $(du -sh dist/ 2>/dev/null | cut -f1 || echo 'N/A')"
  
  # ãƒ“ãƒ«ãƒ‰çµæœã®è©³ç´°ç¢ºèª
  if [ -d "dist" ]; then
    echo "ğŸ“ ãƒ“ãƒ«ãƒ‰å‡ºåŠ›ãƒ•ã‚¡ã‚¤ãƒ«æ•°: $(find dist -type f | wc -l)"
    echo "ğŸ“„ HTMLãƒ•ã‚¡ã‚¤ãƒ«: $(find dist -name '*.html' | wc -l)"
    echo "ğŸ¨ CSSãƒ•ã‚¡ã‚¤ãƒ«: $(find dist -name '*.css' | wc -l)"
    echo "âš¡ JSãƒ•ã‚¡ã‚¤ãƒ«: $(find dist -name '*.js' | wc -l)"
  fi
else
  echo "âŒ åŸºæœ¬ãƒ“ãƒ«ãƒ‰ãƒ†ã‚¹ãƒˆå¤±æ•— (Exit Code: $BUILD_EXIT_CODE)"
  echo "ğŸ” ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ç¢ºèªä¸­..."
  
  # ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã®ä¿å­˜
  npm run build 2>&1 | tee temp/migration-logs/build-error.log
  
  echo "ğŸ“‹ ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ä¿å­˜: temp/migration-logs/build-error.log"
  echo "âš ï¸ ä¿®æ­£ãŒå¿…è¦ã§ã™ã€‚ã‚¨ãƒ©ãƒ¼ã‚’ç¢ºèªã—ã¦ä¿®æ­£ã—ã¦ãã ã•ã„ã€‚"
  exit 1
fi

# 3. é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã§ã®å‹•ä½œç¢ºèª
echo "ğŸŒ é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•ãƒ†ã‚¹ãƒˆ..."
npm run dev &
DEV_PID=$!

# ã‚µãƒ¼ãƒãƒ¼èµ·å‹•å¾…æ©Ÿ
sleep 10

# ã‚µãƒ¼ãƒãƒ¼çŠ¶æ…‹ç¢ºèª
if ps -p $DEV_PID > /dev/null; then
  echo "âœ… é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•æˆåŠŸ (PID: $DEV_PID)"
  
  # ãƒ†ã‚¹ãƒˆãƒšãƒ¼ã‚¸ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ãƒ†ã‚¹ãƒˆ
  echo "ğŸ” ãƒ†ã‚¹ãƒˆãƒšãƒ¼ã‚¸ã‚¢ã‚¯ã‚»ã‚¹ãƒ†ã‚¹ãƒˆ..."
  curl -s -o /dev/null -w "HTTP Status: %{http_code}, Response Time: %{time_total}s" http://localhost:4321/test-unified-seo
  
  # ã‚µãƒ¼ãƒãƒ¼åœæ­¢
  kill $DEV_PID
  echo "ğŸ›‘ é–‹ç™ºã‚µãƒ¼ãƒãƒ¼åœæ­¢å®Œäº†"
else
  echo "âŒ é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•å¤±æ•—"
fi

echo "âœ… åŸºæœ¬å‹•ä½œãƒ†ã‚¹ãƒˆå®Œäº†"
```

#### **ğŸ• 16:30-17:30: å‹ãƒã‚§ãƒƒã‚¯ã¨Lintãƒã‚§ãƒƒã‚¯ï¼ˆ60åˆ†ï¼‰**

```bash
echo "ğŸ” å‹ãƒã‚§ãƒƒã‚¯ã¨Lintãƒã‚§ãƒƒã‚¯é–‹å§‹"

# 1. TypeScriptå‹ãƒã‚§ãƒƒã‚¯
echo "ğŸ“ TypeScriptå‹ãƒã‚§ãƒƒã‚¯å®Ÿè¡Œä¸­..."
npx tsc --noEmit --strict
TS_EXIT_CODE=$?

if [ $TS_EXIT_CODE -eq 0 ]; then
  echo "âœ… TypeScriptå‹ãƒã‚§ãƒƒã‚¯æˆåŠŸ"
  echo "ğŸ“Š å‹ãƒã‚§ãƒƒã‚¯å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«æ•°: $(find src -name '*.ts' -o -name '*.tsx' | wc -l)"
else
  echo "âŒ TypeScriptå‹ãƒã‚§ãƒƒã‚¯å¤±æ•— (Exit Code: $TS_EXIT_CODE)"
  echo "ğŸ” å‹ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ç¢ºèªä¸­..."
  
  # å‹ã‚¨ãƒ©ãƒ¼ã®è©³ç´°ç¢ºèª
  npx tsc --noEmit --strict 2>&1 | tee temp/migration-logs/typescript-errors.log
  
  echo "ğŸ“‹ å‹ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ä¿å­˜: temp/migration-logs/typescript-errors.log"
  echo "âš ï¸ å‹ã‚¨ãƒ©ãƒ¼ã®ä¿®æ­£ãŒå¿…è¦ã§ã™ã€‚ãƒ­ã‚°ã‚’ç¢ºèªã—ã¦ä¿®æ­£ã—ã¦ãã ã•ã„ã€‚"
fi

# 2. ESLintãƒã‚§ãƒƒã‚¯
echo "ğŸ” ESLintãƒã‚§ãƒƒã‚¯å®Ÿè¡Œä¸­..."
npm run lint
LINT_EXIT_CODE=$?

if [ $LINT_EXIT_CODE -eq 0 ]; then
  echo "âœ… ESLintãƒã‚§ãƒƒã‚¯æˆåŠŸ"
  echo "ğŸ“Š Lintå¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«æ•°: $(find src -name '*.ts' -o -name '*.tsx' -o -name '*.js' -o -name '*.jsx' | wc -l)"
else
  echo "âŒ ESLintãƒã‚§ãƒƒã‚¯å¤±æ•— (Exit Code: $LINT_EXIT_CODE)"
  echo "ğŸ” Lintã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ç¢ºèªä¸­..."
  
  # Lintã‚¨ãƒ©ãƒ¼ã®è©³ç´°ç¢ºèª
  npm run lint 2>&1 | tee temp/migration-logs/eslint-errors.log
  
  echo "ğŸ“‹ Lintã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ä¿å­˜: temp/migration-logs/eslint-errors.log"
  echo "âš ï¸ Lintã‚¨ãƒ©ãƒ¼ã®ä¿®æ­£ãŒå¿…è¦ã§ã™ã€‚ãƒ­ã‚°ã‚’ç¢ºèªã—ã¦ä¿®æ­£ã—ã¦ãã ã•ã„ã€‚"
fi

# 3. Astroç‰¹æœ‰ã®ãƒã‚§ãƒƒã‚¯
echo "ğŸš€ Astroç‰¹æœ‰ã®ãƒã‚§ãƒƒã‚¯å®Ÿè¡Œä¸­..."

# Astroè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ç¢ºèª
if [ -f "astro.config.mjs" ]; then
  echo "âœ… astro.config.mjs å­˜åœ¨ç¢ºèª"
  echo "ğŸ“Š è¨­å®šå†…å®¹:"
  cat astro.config.mjs | head -20
else
  echo "âš ï¸ astro.config.mjs ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“"
fi

# ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®æ§‹æ–‡ãƒã‚§ãƒƒã‚¯
echo "ğŸ” Astroã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ§‹æ–‡ãƒã‚§ãƒƒã‚¯..."
if npx astro check 2>/dev/null; then
  echo "âœ… Astroæ§‹æ–‡ãƒã‚§ãƒƒã‚¯æˆåŠŸ"
else
  echo "âš ï¸ Astroæ§‹æ–‡ãƒã‚§ãƒƒã‚¯ã§è­¦å‘ŠãŒã‚ã‚Šã¾ã™"
  npx astro check 2>&1 | tee temp/migration-logs/astro-check.log
fi

echo "âœ… å‹ãƒã‚§ãƒƒã‚¯ã¨Lintãƒã‚§ãƒƒã‚¯å®Œäº†"
```

#### **ğŸ• 17:30-18:00: Day 1ç·æ‹¬ã¨Day 2æº–å‚™ï¼ˆ30åˆ†ï¼‰**

```bash
echo "ğŸ“‹ Day 1ç·æ‹¬é–‹å§‹"

# 1. Day 1ã®æˆæœã‚’ãƒ­ã‚°ã«è¨˜éŒ²
echo "ğŸ“ Day 1å®Ÿè£…çµæœã‚µãƒãƒªãƒ¼ä½œæˆä¸­..."
cat > temp/migration-logs/day1-summary.md << 'EOF'
# Day 1 å®Ÿè£…çµæœã‚µãƒãƒªãƒ¼

## ğŸ“… å®Ÿè£…æ—¥æ™‚
- **æ—¥ä»˜**: $(date '+%Y-%m-%d')
- **æ™‚é–“**: 09:00-18:00
- **å®Ÿè£…è€…**: $(whoami)

## ğŸ¯ å®Ÿè£…ç›®æ¨™
- [x] ç’°å¢ƒæº–å‚™ã¨ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³è¨˜éŒ²
- [x] ä¾å­˜é–¢ä¿‚ã®è©³ç´°åˆ†æ
- [x] UnifiedSEOã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å®Ÿè£…
- [x] åŸºæœ¬å‹•ä½œãƒ†ã‚¹ãƒˆ
- [x] å‹ãƒã‚§ãƒƒã‚¯ã¨Lintãƒã‚§ãƒƒã‚¯

## âœ… å®Œäº†ã‚¿ã‚¹ã‚¯

### ç’°å¢ƒæº–å‚™ (09:00-12:00)
- [x] ãƒ•ã‚£ãƒ¼ãƒãƒ£ãƒ¼ãƒ–ãƒ©ãƒ³ãƒä½œæˆ: `feature/unified-seo-implementation`
- [x] ä¸€æ™‚ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
- [x] ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³çŠ¶æ…‹è¨˜éŒ²ï¼ˆãƒ“ãƒ«ãƒ‰ã€å‹ãƒã‚§ãƒƒã‚¯ã€ãƒ†ã‚¹ãƒˆï¼‰
- [x] ä¾å­˜é–¢ä¿‚ã®è©³ç´°åˆ†æ

### UnifiedSEOã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå®Ÿè£… (13:00-14:30)
- [x] `src/components/UnifiedSEO.astro` ä½œæˆ
- [x] åŒ…æ‹¬çš„ãªSEOæ©Ÿèƒ½å®Ÿè£…
- [x] ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼çµ±åˆ
- [x] JSON-LDæ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ
- [x] ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ˜ãƒƒãƒ€ãƒ¼å¯¾å¿œ

### åŸºæœ¬å‹•ä½œãƒ†ã‚¹ãƒˆ (15:00-16:30)
- [x] ãƒ†ã‚¹ãƒˆãƒšãƒ¼ã‚¸ä½œæˆ: `src/pages/test-unified-seo.astro`
- [x] ãƒ“ãƒ«ãƒ‰ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
- [x] é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•ãƒ†ã‚¹ãƒˆ
- [x] ãƒ†ã‚¹ãƒˆãƒšãƒ¼ã‚¸ã‚¢ã‚¯ã‚»ã‚¹ãƒ†ã‚¹ãƒˆ

### å“è³ªãƒã‚§ãƒƒã‚¯ (16:30-17:30)
- [x] TypeScriptå‹ãƒã‚§ãƒƒã‚¯
- [x] ESLintãƒã‚§ãƒƒã‚¯
- [x] Astroæ§‹æ–‡ãƒã‚§ãƒƒã‚¯

## ğŸ“Š å®Ÿè£…çµæœ

### ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ
- **æ–°è¦ä½œæˆ**: 2ãƒ•ã‚¡ã‚¤ãƒ«
  - `src/components/UnifiedSEO.astro` (ç´„150è¡Œ)
  - `src/pages/test-unified-seo.astro` (ç´„80è¡Œ)

### ãƒ†ã‚¹ãƒˆçµæœ
- **ãƒ“ãƒ«ãƒ‰ãƒ†ã‚¹ãƒˆ**: âœ… æˆåŠŸ
- **å‹ãƒã‚§ãƒƒã‚¯**: âœ… æˆåŠŸ
- **Lintãƒã‚§ãƒƒã‚¯**: âœ… æˆåŠŸ
- **Astroãƒã‚§ãƒƒã‚¯**: âœ… æˆåŠŸ

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æŒ‡æ¨™
- **ãƒ“ãƒ«ãƒ‰æ™‚é–“**: $(date -d @$(($(date +%s) - $(cat temp/migration-logs/day1-start-time 2>/dev/null || echo $(date +%s)))) '+%Måˆ†%Sç§’' 2>/dev/null || 'N/A'
- **å‡ºåŠ›ã‚µã‚¤ã‚º**: $(du -sh dist/ 2>/dev/null | cut -f1 || 'N/A')

## ğŸš¨ ç™ºè¦‹ã•ã‚ŒãŸå•é¡Œãƒ»è­¦å‘Š
EOF

# 2. ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã®çµ±åˆ
if [ -f "temp/migration-logs/build-error.log" ]; then
  echo "## ğŸ”´ ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼" >> temp/migration-logs/day1-summary.md
  echo "\`\`\`" >> temp/migration-logs/day1-summary.md
  cat temp/migration-logs/build-error.log >> temp/migration-logs/day1-summary.md
  echo "\`\`\`" >> temp/migration-logs/day1-summary.md
fi

if [ -f "temp/migration-logs/typescript-errors.log" ]; then
  echo "## ğŸ”´ TypeScriptã‚¨ãƒ©ãƒ¼" >> temp/migration-logs/day1-summary.md
  echo "\`\`\`" >> temp/migration-logs/day1-summary.md
  cat temp/migration-logs/day1-summary.md
  cat temp/migration-logs/typescript-errors.log >> temp/migration-logs/day1-summary.md
  echo "\`\`\`" >> temp/migration-logs/day1-summary.md
fi

if [ -f "temp/migration-logs/eslint-errors.log" ]; then
  echo "## ğŸŸ¡ ESLintè­¦å‘Š" >> temp/migration-logs/day1-summary.md
  echo "\`\`\`" >> temp/migration-logs/day1-summary.md
  cat temp/migration-logs/eslint-errors.log >> temp/migration-logs/day1-summary.md
  echo "\`\`\`" >> temp/migration-logs/day1-summary.md
fi

# 3. Day 2ã®æº–å‚™
echo "## ğŸš€ Day 2æº–å‚™äº‹é …" >> temp/migration-logs/day1-summary.md
echo "" >> temp/migration-logs/day1-summary.md
echo "### æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—" >> temp/migration-logs/day1-summary.md
echo "1. **ä¾å­˜é–¢ä¿‚ã®ç§»è¡Œ**: å¤ã„SEOã‚·ã‚¹ãƒ†ãƒ ã®ä¾å­˜ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ–°ã—ã„UnifiedSEOã«ç½®ãæ›ãˆ" >> temp/migration-logs/day1-summary.md
echo "2. **ãƒšãƒ¼ã‚¸çµ±åˆ**: æ—¢å­˜ãƒšãƒ¼ã‚¸ã§ã®UnifiedSEOã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ä½¿ç”¨é–‹å§‹" >> temp/migration-logs/day1-summary.md
echo "3. **æ®µéšçš„ç§»è¡Œ**: 1ãƒšãƒ¼ã‚¸ãšã¤æ…é‡ã«ç§»è¡Œã—ã€å•é¡ŒãŒãªã„ã“ã¨ã‚’ç¢ºèª" >> temp/migration-logs/day1-summary.md
echo "" >> temp/migration-logs/day1-summary.md
echo "### å¿…è¦ãªæº–å‚™" >> temp/migration-logs/day1-summary.md
echo "- [ ] å¤ã„SEOã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ä½¿ç”¨ç®‡æ‰€ãƒªã‚¹ãƒˆä½œæˆ" >> temp/migration-logs/day1-summary.md
echo "- [ ] ç§»è¡Œé †åºã®æ±ºå®šï¼ˆãƒªã‚¹ã‚¯ã®ä½ã„ãƒšãƒ¼ã‚¸ã‹ã‚‰é–‹å§‹ï¼‰" >> temp/migration-logs/day1-summary.md
echo "- [ ] ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯æ‰‹é †ã®æœ€çµ‚ç¢ºèª" >> temp/migration-logs/day1-summary.md

echo "âœ… Day 1ã‚µãƒãƒªãƒ¼ä½œæˆå®Œäº†: temp/migration-logs/day1-summary.md"

# 4. æœ€çµ‚çŠ¶æ…‹ã®è¨˜éŒ²
echo "ğŸ“Š æœ€çµ‚çŠ¶æ…‹è¨˜éŒ²ä¸­..."
echo "$(date +%s)" > temp/migration-logs/day1-end-time

# 5. Day 2ã®æº–å‚™ç¢ºèª
echo "ğŸš€ Day 2æº–å‚™ç¢ºèª"
echo "ğŸ“‹ æ¬¡ã®å®Ÿè£…ãƒ•ã‚§ãƒ¼ã‚ºã®æº–å‚™ãŒå®Œäº†ã—ã¾ã—ãŸ"
echo "ğŸ“ ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«: temp/migration-logs/day1-summary.md"
echo "ğŸ” å•é¡ŒãŒã‚ã‚‹å ´åˆã¯ä¿®æ­£ã—ã¦ã‹ã‚‰Day 2ã«é€²ã‚“ã§ãã ã•ã„"
echo "âœ… Day 1å®Ÿè£…å®Œäº†ï¼"
EOF

echo "âœ… Day 1ç·æ‹¬å®Œäº†"
echo "ğŸ“‹ ã‚µãƒãƒªãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«: temp/migration-logs/day1-summary.md"
echo "ğŸš€ Day 2ã®æº–å‚™ãŒå®Œäº†ã—ã¾ã—ãŸ"

## å®Œäº†é …ç›®
- âœ… ç’°å¢ƒæº–å‚™ã¨ãƒ–ãƒ©ãƒ³ãƒä½œæˆ
- âœ… ä¾å­˜é–¢ä¿‚ã®è©³ç´°åˆ†æ
- âœ… å‹å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ
- âœ… UnifiedSEOã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå®Ÿè£…
- âœ… åŸºæœ¬å‹•ä½œãƒ†ã‚¹ãƒˆ
- âœ… å‹ãƒã‚§ãƒƒã‚¯ã¨Lintãƒã‚§ãƒƒã‚¯

## ç™ºè¦‹ã•ã‚ŒãŸèª²é¡Œ
- [ ] ï¼ˆèª²é¡ŒãŒã‚ã‚Œã°è¨˜éŒ²ï¼‰

## Day 2ã®æº–å‚™çŠ¶æ³
- âœ… UnifiedSEOã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå®Ÿè£…å®Œäº†
- âœ… åŸºæœ¬ãƒ†ã‚¹ãƒˆé€šé
- âœ… å‹å®šç¾©æ•´å‚™å®Œäº†

## æ¬¡ã®ä½œæ¥­ï¼ˆDay 2ï¼‰
- æ—¢å­˜ãƒšãƒ¼ã‚¸ã®ç§»è¡Œ
- index.astroã®æ›´æ–°
- docs.astroã®æ›´æ–°
- ãã®ä»–ãƒšãƒ¼ã‚¸ã®æ›´æ–°
EOF

git add .
git commit -m "Day 1: UnifiedSEO component implementation completed"
git push origin feature/unified-seo-implementation

echo "âœ… Day 1å®Œäº†"
```

#### **Day 2: æ—¢å­˜ãƒšãƒ¼ã‚¸ã®ç§»è¡Œ**

**Morning (09:00-12:00): ä¸»è¦ãƒšãƒ¼ã‚¸ã®ç§»è¡Œ**
```bash
# 9:00-9:30: Day 2æº–å‚™
echo "ğŸ“… Day 2 Morning: ä¸»è¦ãƒšãƒ¼ã‚¸ç§»è¡Œé–‹å§‹"

# ä½œæ¥­çŠ¶æ³ç¢ºèª
git status
npm run build

# 9:30-11:00: index.astroã®ç§»è¡Œ
echo "ğŸ”„ index.astroç§»è¡Œé–‹å§‹"

# ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä½œæˆ
cp src/pages/index.astro src/pages/index.astro.backup

# index.astroã‚’æ–°ã—ã„UnifiedSEOã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«ç§»è¡Œ
# ï¼ˆå…·ä½“çš„ãªç§»è¡Œã‚³ãƒ¼ãƒ‰ã¯è¨­è¨ˆä»•æ§˜ã‚’å‚ç…§ï¼‰

# ç§»è¡Œå¾Œãƒ†ã‚¹ãƒˆ
npm run build
if [ $? -eq 0 ]; then
  echo "âœ… index.astroç§»è¡ŒæˆåŠŸ"
else
  echo "âŒ index.astroç§»è¡Œå¤±æ•— - ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯"
  mv src/pages/index.astro.backup src/pages/index.astro
  exit 1
fi

# 11:00-11:30: ã‚³ãƒ¼ãƒ’ãƒ¼ãƒ–ãƒ¬ã‚¤ã‚¯
echo "â˜• Coffee Break (11:00-11:30)"

# 11:30-12:00: docs.astroã®ç§»è¡Œæº–å‚™
echo "ğŸ”„ docs.astroç§»è¡Œæº–å‚™"

# docs.astroã®ç¾åœ¨ã®è¤‡é›‘æ€§ã‚’åˆ†æ
wc -l src/pages/docs.astro
echo "ğŸ“Š docs.astro is $(wc -l < src/pages/docs.astro) lines - complex migration needed"
```

**Afternoon (13:00-18:00): è¤‡é›‘ãƒšãƒ¼ã‚¸ã¨ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®ç§»è¡Œ**
```bash
# 13:00-15:00: docs.astroã®ç§»è¡Œï¼ˆæœ€ã‚‚è¤‡é›‘ï¼‰
echo "ğŸ”„ docs.astroç§»è¡Œé–‹å§‹ï¼ˆè¤‡é›‘ãƒšãƒ¼ã‚¸ï¼‰"

# ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä½œæˆ
cp src/pages/docs.astro src/pages/docs.astro.backup

# docs.astroã®æ®µéšçš„ç§»è¡Œ
# 1. SEOã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆéƒ¨åˆ†ã®ã¿ç½®ãæ›ãˆ
# 2. æ®‹ã‚Šã®æ©Ÿèƒ½ã¯ç¶­æŒ
# 3. æ®µéšçš„ãƒ†ã‚¹ãƒˆ

echo "âœ… docs.astroç§»è¡Œå®Œäº†"

# 15:00-15:30: ã‚³ãƒ¼ãƒ’ãƒ¼ãƒ–ãƒ¬ã‚¤ã‚¯
echo "â˜• Coffee Break (15:00-15:30)"

# 15:30-17:00: æ®‹ã‚Šãƒšãƒ¼ã‚¸ã®ä¸€æ‹¬ç§»è¡Œ
echo "ğŸ”„ æ®‹ã‚Šãƒšãƒ¼ã‚¸ã®ä¸€æ‹¬ç§»è¡Œé–‹å§‹"

PAGES_TO_MIGRATE=(
  "src/pages/tools.astro"
  "src/pages/discord.astro"
  "src/pages/settings.astro"
  "src/pages/404.astro"
  "src/pages/docs-new.astro"
  "src/pages/admin/settings.astro"
  "src/pages/docs/[slug].astro"
)

for page in "${PAGES_TO_MIGRATE[@]}"; do
  echo "ğŸ”„ Migrating $page..."
  
  # ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä½œæˆ
  cp "$page" "$page.backup"
  
  # ç§»è¡Œå®Ÿè¡Œï¼ˆå„ãƒšãƒ¼ã‚¸ã«å¿œã˜ãŸç§»è¡Œã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼‰
  # ... ç§»è¡Œå‡¦ç† ...
  
  # å€‹åˆ¥ãƒ†ã‚¹ãƒˆ
  npm run build
  if [ $? -eq 0 ]; then
    echo "âœ… $page migration successful"
  else
    echo "âŒ $page migration failed - rolling back"
    mv "$page.backup" "$page"
  fi
done

# 17:00-17:30: BaseLayout.astroã®ç§»è¡Œ
echo "ğŸ”„ BaseLayout.astroç§»è¡Œé–‹å§‹"

cp src/layouts/BaseLayout.astro src/layouts/BaseLayout.astro.backup
# ... BaseLayoutç§»è¡Œå‡¦ç† ...

# 17:30-18:00: Day 2ç·æ‹¬
echo "ğŸ“‹ Day 2ç·æ‹¬"

# ç§»è¡Œãƒ†ã‚¹ãƒˆ
npm run build
npm run type-check

# Day 2çµæœè¨˜éŒ²
git add .
git commit -m "Day 2: Page migration completed"
git push origin feature/unified-seo-implementation

echo "âœ… Day 2å®Œäº†"
```

#### **Day 3: MD/MDXå¯¾å¿œã¨ãƒ†ã‚¹ãƒˆ**

**Morning (09:00-12:00): MD/MDXå¯¾å¿œå®Ÿè£…**
```bash
# 9:00-10:30: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³è¨­å®š
echo "ğŸ“… Day 3: MD/MDXå¯¾å¿œé–‹å§‹"

# ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³è¨­å®šå®Ÿè£…
# ï¼ˆè¨­è¨ˆä»•æ§˜ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³è¨­å®šã‚’å‚ç…§ï¼‰

# 10:30-11:00: ã‚³ãƒ¼ãƒ’ãƒ¼ãƒ–ãƒ¬ã‚¤ã‚¯
echo "â˜• Coffee Break (10:30-11:00)"

# 11:00-12:00: å‹•çš„ãƒšãƒ¼ã‚¸ã§ã®ä½¿ç”¨å®Ÿè£…
echo "ğŸ”„ å‹•çš„ãƒšãƒ¼ã‚¸ã§ã®ä½¿ç”¨å®Ÿè£…"
# ï¼ˆè¨­è¨ˆä»•æ§˜ã®å‹•çš„ãƒšãƒ¼ã‚¸å®Ÿè£…ã‚’å‚ç…§ï¼‰
```

**Afternoon (13:00-18:00): åŒ…æ‹¬çš„ãƒ†ã‚¹ãƒˆå®Ÿæ–½**
```bash
# 13:00-15:00: æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ
echo "ğŸ§ª åŒ…æ‹¬çš„æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆé–‹å§‹"

# åŸºæœ¬æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆå®Ÿæ–½
# ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼å¯¾å¿œãƒ†ã‚¹ãƒˆå®Ÿæ–½
# ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆå®Ÿæ–½

# 15:00-15:30: ã‚³ãƒ¼ãƒ’ãƒ¼ãƒ–ãƒ¬ã‚¤ã‚¯
echo "â˜• Coffee Break (15:00-15:30)"

# 15:30-17:30: E2Eãƒ†ã‚¹ãƒˆ
echo "ğŸ§ª E2Eãƒ†ã‚¹ãƒˆå®Ÿæ–½"

# å…¨ãƒšãƒ¼ã‚¸ã®å‹•ä½œç¢ºèª
# SEOãƒ¡ã‚¿ã‚¿ã‚°ã®æ¤œè¨¼
# ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¸¬å®š

# 17:30-18:00: Day 3ç·æ‹¬
echo "ğŸ“‹ Day 3ç·æ‹¬"

git add .
git commit -m "Day 3: MD/MDX support and comprehensive testing completed"
git push origin feature/unified-seo-implementation

echo "âœ… Day 3å®Œäº†"
```

#### **Day 4-5: å¤ã„ã‚·ã‚¹ãƒ†ãƒ å‰Šé™¤ã¨ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—**

**Day 4 (09:00-18:00): å®‰å…¨ãªå‰Šé™¤æº–å‚™**
```bash
# Day 4ã®è©³ç´°ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«
echo "ğŸ“… Day 4: å¤ã„ã‚·ã‚¹ãƒ†ãƒ å‰Šé™¤æº–å‚™"

# Morning: ä¾å­˜é–¢ä¿‚ã®æœ€çµ‚ç¢ºèªã¨ä»£æ›¿å®Ÿè£…æº–å‚™
# Afternoon: æ®µéšçš„å‰Šé™¤ã®ãƒªãƒãƒ¼ã‚µãƒ«
```

**Day 5 (09:00-18:00): æœ€çµ‚å‰Šé™¤ã¨ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—**
```bash
# Day 5ã®è©³ç´°ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«  
echo "ğŸ“… Day 5: æœ€çµ‚å‰Šé™¤ã¨ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—"

# Morning: å¤ã„ã‚·ã‚¹ãƒ†ãƒ ã®å®Œå…¨å‰Šé™¤
# Afternoon: æœ€çµ‚ãƒ†ã‚¹ãƒˆã¨æœ¬ç•ªãƒ‡ãƒ—ãƒ­ã‚¤æº–å‚™
```

---

## ğŸ§ª ãƒ†ã‚¹ãƒˆæ–¹æ³•

### **1. åŸºæœ¬æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ**
```typescript
// tests/unified-seo.test.ts
import { test, expect } from '@playwright/test';

test('UnifiedSEO generates correct meta tags', async ({ page }) => {
  await page.goto('/test-page');
  
  // ã‚¿ã‚¤ãƒˆãƒ«ã‚¿ã‚°ç¢ºèª
  const title = await page.title();
  expect(title).toBe('æœŸå¾…ã•ã‚Œã‚‹ã‚¿ã‚¤ãƒˆãƒ«');
  
  // ãƒ¡ã‚¿ãƒ‡ã‚£ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ç¢ºèª
  const description = await page.locator('meta[name="description"]').getAttribute('content');
  expect(description).toContain('æœŸå¾…ã•ã‚Œã‚‹èª¬æ˜');
  
  // Open Graphã‚¿ã‚°ç¢ºèª
  const ogTitle = await page.locator('meta[property="og:title"]').getAttribute('content');
  expect(ogTitle).toBe('æœŸå¾…ã•ã‚Œã‚‹ã‚¿ã‚¤ãƒˆãƒ«');
  
  // JSON-LDç¢ºèª
  const jsonLD = await page.locator('script[type="application/ld+json"]').textContent();
  const structuredData = JSON.parse(jsonLD);
  expect(structuredData['@type']).toBe('WebSite');
});
```

### **2. ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼å¯¾å¿œãƒ†ã‚¹ãƒˆ**
```typescript
test('frontmatter data is correctly processed', async ({ page }) => {
  await page.goto('/docs/test-article');
  
  // ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼ã‹ã‚‰ã®ã‚¿ã‚¤ãƒˆãƒ«
  const title = await page.title();
  expect(title).toBe('ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼ã®ã‚¿ã‚¤ãƒˆãƒ«');
  
  // ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼ã‹ã‚‰ã®ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰
  const keywords = await page.locator('meta[name="keywords"]').getAttribute('content');
  expect(keywords).toContain('ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼ã®ã‚¿ã‚°');
  
  // è¨˜äº‹ã®JSON-LD
  const jsonLD = await page.locator('script[type="application/ld+json"]').textContent();
  const data = JSON.parse(jsonLD);
  expect(data['@type']).toBe('Article');
  expect(data.author.name).toBe('ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼ã®è‘—è€…');
});
```

### **3. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ**
```bash
# Lighthouseã‚¹ã‚³ã‚¢ç¢ºèª
npx lighthouse https://localhost:4321 --chrome-flags="--headless"

# Core Web Vitalsãƒã‚§ãƒƒã‚¯
npx @web/test-runner test/performance.test.js
```

---

## ğŸ“Š æ¯”è¼ƒè¡¨ï¼šBefore vs After

| é …ç›® | Beforeï¼ˆ3ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼‰ | Afterï¼ˆUnifiedSEOï¼‰ | æ”¹å–„ç‡ |
|------|-------------------------|-------------------|--------|
| **ä½¿ç”¨è¡Œæ•°** | 30-50è¡Œ | 5-15è¡Œ | **70%å‰Šæ¸›** |
| **å¿…è¦ãªimport** | 3ã¤ | 1ã¤ | **67%å‰Šæ¸›** |
| **è¨­å®šã®è¤‡é›‘ã•** | é«˜ï¼ˆå„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå€‹åˆ¥è¨­å®šï¼‰ | ä½ï¼ˆ1ã¤ã®è¨­å®šã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼‰ | **80%æ”¹å–„** |
| **ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼å¯¾å¿œ** | æ‰‹å‹• | è‡ªå‹• | **100%è‡ªå‹•åŒ–** |
| **ä¿å®ˆæ€§** | å›°é›£ï¼ˆ3ãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç†ï¼‰ | ç°¡å˜ï¼ˆ1ãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç†ï¼‰ | **75%æ”¹å–„** |
| **å‹å®‰å…¨æ€§** | éƒ¨åˆ†çš„ | å®Œå…¨ | **100%é”æˆ** |
| **ãƒ†ã‚¹ãƒˆå·¥æ•°** | é«˜ï¼ˆ3ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ¥ã€…ï¼‰ | ä½ï¼ˆ1ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼‰ | **60%å‰Šæ¸›** |

---

## ğŸ¯ DRYãƒ»KISSåŸå‰‡ã®å®Ÿç¾

### **DRYåŸå‰‡ï¼ˆDon't Repeat Yourselfï¼‰**
- âœ… **ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿è¨­å®šã®é‡è¤‡æ’é™¤**: 1ã¤ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã™ã¹ã¦ç®¡ç†
- âœ… **ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼è‡ªå‹•æ´»ç”¨**: æ‰‹å‹•ã§ã®é‡è¤‡å…¥åŠ›ã‚’æ’é™¤
- âœ… **è¨­å®šã®å†åˆ©ç”¨**: ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã§ã®å…±é€šè¨­å®š

### **KISSåŸå‰‡ï¼ˆKeep It Simple, Stupidï¼‰**
- âœ… **ã‚·ãƒ³ãƒ—ãƒ«ãªAPI**: 1ã¤ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã€1ã¤ã®Props
- âœ… **ç›´æ„Ÿçš„ãªä½¿ã„æ–¹**: ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼ã‚’ãã®ã¾ã¾æ¸¡ã™ã ã‘
- âœ… **æœ€å°é™ã®è¨­å®š**: å¿…è¦ãªé …ç›®ã®ã¿è¨­å®šã™ã‚Œã°OK

### **å®Ÿè£…ã®ç°¡æ½”æ€§**
```astro
<!-- Before: è¤‡é›‘ -->
<HeadSEO title="..." description="..." />
<BasicSEO title="..." description="..." keywords={[...]} seoProperties={{...}} />
<MetaManager performanceOptimization={{...}} securityHeaders={{...}} />

<!-- After: ã‚·ãƒ³ãƒ—ãƒ« -->
<UnifiedSEO frontmatter={entry.data} pageType="article" />
```

---

## ğŸš¨ **æœ€çµ‚è­¦å‘Šã¨å³æ ¼ãªéµå®ˆäº‹é …**

### **ğŸ”´ CRITICAL WARNINGSï¼ˆã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«è­¦å‘Šï¼‰**

#### **âš ï¸ è­¦å‘Š1: ã‚·ã‚¹ãƒ†ãƒ ç ´ç¶»ãƒªã‚¹ã‚¯**
```
ğŸš¨ çµ¶å¯¾ã«å¤‰æ›´ä¸å¯ã®ã‚·ã‚¹ãƒ†ãƒ ãƒ•ã‚¡ã‚¤ãƒ«ã®å¤‰æ›´ã¯ã‚·ã‚¹ãƒ†ãƒ ç ´ç¶»ã‚’å¼•ãèµ·ã“ã—ã¾ã™
```
**é•åæ™‚ã®çµæœ**:
- æœ¬ç•ªç’°å¢ƒã®å®Œå…¨åœæ­¢
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›£è¦–ã®å–ªå¤±
- ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è„†å¼±æ€§ã®ç™ºç”Ÿ
- ã‚¨ãƒ©ãƒ¼è¿½è·¡æ©Ÿèƒ½ã®å–ªå¤±

**å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«**:
- `src/utils/performance/performance-monitor.js`
- `src/utils/security/csp-config.ts`
- `src/utils/error-handling/hybrid-error-handler.ts`
- `src/utils/ai-content/` å…¨ä½“

#### **âš ï¸ è­¦å‘Š2: ä¾å­˜é–¢ä¿‚ç ´å£Šãƒªã‚¹ã‚¯**
```
ğŸš¨ ä¾å­˜é–¢ä¿‚ã®ç„¡è¦–ã¯ãƒ“ãƒ«ãƒ‰å¤±æ•—ã¨ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã‚¨ãƒ©ãƒ¼ã‚’å¼•ãèµ·ã“ã—ã¾ã™
```
**é•åæ™‚ã®çµæœ**:
- å³æ™‚ãƒ“ãƒ«ãƒ‰å¤±æ•—
- ãƒšãƒ¼ã‚¸è¡¨ç¤ºã‚¨ãƒ©ãƒ¼
- SEOæ©Ÿèƒ½å®Œå…¨å–ªå¤±
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã®å´©å£Š

**ä¾å­˜é–¢ä¿‚ãƒãƒƒãƒ—**:
```
seo-connector.ts â†’ NewSEOMetaManager, NewSEOKeywordValidator
data-flow-builder.ts â†’ NewSEOMetaManager, NewSEOKeywordValidator
```

#### **âš ï¸ è­¦å‘Š3: æ®µéšçš„ç§»è¡Œã®å¿…é ˆæ€§**
```
ğŸš¨ æ®µéšçš„ç§»è¡Œã‚’ç„¡è¦–ã™ã‚‹ã¨å®Œå…¨å¾©æ—§ä¸èƒ½ã«ãªã‚Šã¾ã™
```
**é•åæ™‚ã®çµæœ**:
- Gitãƒªã‚»ãƒƒãƒˆã«ã‚ˆã‚‹å®Œå…¨ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯
- ä½œæ¥­æ™‚é–“ã®å®Œå…¨æå¤±
- ãƒãƒ¼ãƒ ç”Ÿç”£æ€§ã®ä½ä¸‹
- ä¿¡é ¼æ€§ã®å–ªå¤±

### **ğŸ“‹ å³æ ¼ãªéµå®ˆäº‹é …ï¼ˆMANDATORYï¼‰**

#### **1. å¤‰æ›´ä¸å¯ãƒ•ã‚¡ã‚¤ãƒ«ã®çµ¶å¯¾éµå®ˆ**
```typescript
// âŒ çµ¶å¯¾ã«å¤‰æ›´ç¦æ­¢ - å¤‰æ›´ã™ã‚‹ã¨æœ¬ç•ªç’°å¢ƒãŒç ´ç¶»
export function initPerformanceMonitoring() { /* å¤‰æ›´ç¦æ­¢ */ }
export class HybridErrorHandler { /* å¤‰æ›´ç¦æ­¢ */ }
export class ContentAnalysis { /* å¤‰æ›´ç¦æ­¢ */ }
```

**éµå®ˆãƒ«ãƒ¼ãƒ«**:
- âœ… ãƒ•ã‚¡ã‚¤ãƒ«ã®å†…å®¹é–²è¦§ã®ã¿è¨±å¯
- âœ… ãƒ­ã‚°å‡ºåŠ›ã®è¿½åŠ ã®ã¿è¨±å¯
- âŒ æ©Ÿèƒ½å¤‰æ›´ã®ä¸€åˆ‡ç¦æ­¢
- âŒ ãƒ•ã‚¡ã‚¤ãƒ«å‰Šé™¤ã®ä¸€åˆ‡ç¦æ­¢
- âŒ ã‚¤ãƒ³ãƒãƒ¼ãƒˆæ–‡ã®å¤‰æ›´ç¦æ­¢

#### **2. ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—å¿…é ˆãƒ«ãƒ¼ãƒ«**
```bash
# âœ… å¿…é ˆ: æ¯å›ã®å¤‰æ›´å‰ã«ãƒ•ãƒ«ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—
BACKUP_DIR="backup/$(date +%Y%m%d_%H%M%S)"
cp -r src/ $BACKUP_DIR/
```

**éµå®ˆãƒ«ãƒ¼ãƒ«**:
- âœ… å¤‰æ›´å‰: å¿…ãšãƒ•ãƒ«ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—
- âœ… å¤‰æ›´å¾Œ: å¿…ãšãƒ“ãƒ«ãƒ‰ãƒ†ã‚¹ãƒˆ
- âœ… å¤±æ•—æ™‚: è‡ªå‹•ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯
- âŒ ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãªã—ã®å¤‰æ›´ç¦æ­¢

#### **3. æ®µéšçš„ç§»è¡Œã®å³å®ˆ**
```bash
# âœ… å¿…é ˆ: 1ãƒ•ã‚¡ã‚¤ãƒ«ãšã¤å®‰å…¨ç§»è¡Œ
echo "ğŸ”„ Step 1: ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä½œæˆ"
echo "ğŸ”„ Step 2: 1ãƒ•ã‚¡ã‚¤ãƒ«å¤‰æ›´"
echo "ğŸ”„ Step 3: ãƒ“ãƒ«ãƒ‰ãƒ†ã‚¹ãƒˆ"
echo "ğŸ”„ Step 4: æ¬¡ã®ãƒ•ã‚¡ã‚¤ãƒ«"
```

**éµå®ˆãƒ«ãƒ¼ãƒ«**:
- âœ… 1ãƒ•ã‚¡ã‚¤ãƒ«ãšã¤å¤‰æ›´
- âœ… å„å¤‰æ›´å¾Œã®ãƒ†ã‚¹ãƒˆ
- âœ… å¤±æ•—æ™‚ã®å³æ™‚ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯
- âŒ è¤‡æ•°ãƒ•ã‚¡ã‚¤ãƒ«åŒæ™‚å¤‰æ›´ç¦æ­¢

#### **4. ä¾å­˜é–¢ä¿‚è§£æ±ºã®å„ªå…ˆé †ä½**
```typescript
// âœ… å¿…é ˆ: ä¾å­˜é–¢ä¿‚ã®è§£æ±ºé †åº
// 1. seo-connector.ts ã®ä»£æ›¿å®Ÿè£…ä½œæˆ
// 2. data-flow-builder.ts ã®ä»£æ›¿å®Ÿè£…ä½œæˆ
// 3. ãƒšãƒ¼ã‚¸ãƒ•ã‚¡ã‚¤ãƒ«ã®ç§»è¡Œ
// 4. å¤ã„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå‰Šé™¤
```

**éµå®ˆãƒ«ãƒ¼ãƒ«**:
- âœ… ä¾å­˜é–¢ä¿‚ã‚’å…ˆã«è§£æ±º
- âœ… ä»£æ›¿å®Ÿè£…ã‚’å…ˆã«ä½œæˆ
- âœ… ãƒ†ã‚¹ãƒˆã—ã¦ã‹ã‚‰å‰Šé™¤
- âŒ ä¾å­˜é–¢ä¿‚è§£æ±ºãªã—ã®å¤‰æ›´ç¦æ­¢

### **ğŸ›¡ï¸ å®‰å…¨å¯¾ç­–ãƒ—ãƒ­ãƒˆã‚³ãƒ«**

#### **ç·Šæ€¥æ™‚ãƒ—ãƒ­ãƒˆã‚³ãƒ«**
```bash
# Level 1: è‡ªå‹•ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼ˆ5åˆ†ä»¥å†…ï¼‰
AUTO_ROLLBACK_LEVEL1() {
  echo "ğŸš¨ Level 1 Rollback: Build Error"
  # è‡ªå‹•å¾©å…ƒå‡¦ç†
}

# Level 2: æ‰‹å‹•ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼ˆ15åˆ†ä»¥å†…ï¼‰
MANUAL_ROLLBACK_LEVEL2() {
  echo "ğŸš¨ Level 2 Rollback: Critical System Error"
  # æ‰‹å‹•å¾©å…ƒå‡¦ç†
}

# Level 3: Git ãƒªã‚»ãƒƒãƒˆï¼ˆ30åˆ†ä»¥å†…ï¼‰
GIT_RESET_LEVEL3() {
  echo "ğŸš¨ Level 3 Rollback: Catastrophic Error"
  # Gitå®Œå…¨ãƒªã‚»ãƒƒãƒˆ
}
```

#### **ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°å¿…é ˆé …ç›®**
- âœ… ãƒ“ãƒ«ãƒ‰æˆåŠŸ/å¤±æ•—ã®ç›£è¦–
- âœ… å‹ãƒã‚§ãƒƒã‚¯ã‚¨ãƒ©ãƒ¼ã®ç›£è¦–
- âœ… ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æŒ‡æ¨™ã®ç›£è¦–
- âœ… ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®šã®ç›£è¦–
- âœ… SEOæ©Ÿèƒ½ã®å‹•ä½œç¢ºèª

### **ğŸ‘¥ è²¬ä»»ã¨æ¨©é™**

#### **è²¬ä»»è€…**
- **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼**: å…¨ä½“é€²æ—ç®¡ç†ã¨ãƒªã‚¹ã‚¯ç›£è¦–
- **æŠ€è¡“ãƒªãƒ¼ãƒ€ãƒ¼**: æŠ€è¡“çš„æ±ºå®šã¨ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼ã®æœ€çµ‚æ‰¿èª
- **QAæ‹…å½“è€…**: ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã¨å“è³ªä¿è¨¼
- **é–‹ç™ºè€…**: ã‚³ãƒ¼ãƒ‰å¤‰æ›´ã¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°

#### **æ¨©é™ãƒ¬ãƒ™ãƒ«**
- **Level 1**: è¨­å®šå¤‰æ›´ã®ã¿ï¼ˆã‚¹ãƒ©ã‚¤ãƒ‰ã‚·ãƒ§ãƒ¼è¨­å®šãªã©ï¼‰
- **Level 2**: ãƒšãƒ¼ã‚¸ç§»è¡Œï¼ˆå¤‰æ›´å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿ï¼‰
- **Level 3**: ä¾å­˜é–¢ä¿‚å¤‰æ›´ï¼ˆæŠ€è¡“ãƒªãƒ¼ãƒ€ãƒ¼ã®æ‰¿èªå¿…é ˆï¼‰
- **Level 4**: ã‚·ã‚¹ãƒ†ãƒ ãƒ•ã‚¡ã‚¤ãƒ«å¤‰æ›´ï¼ˆç¦æ­¢ï¼‰

### **â° ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ã¨ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³**

#### **Phase 1: Day 1-2ï¼ˆæº–å‚™ã¨ç§»è¡Œï¼‰**
- âœ… ç’°å¢ƒæº–å‚™å®Œäº†
- âœ… ä¾å­˜é–¢ä¿‚åˆ†æå®Œäº†
- âœ… UnifiedSEOã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä½œæˆå®Œäº†
- âœ… ä¸»è¦ãƒšãƒ¼ã‚¸ç§»è¡Œå®Œäº†

#### **Phase 2: Day 3-4ï¼ˆãƒ†ã‚¹ãƒˆã¨æœ€é©åŒ–ï¼‰**
- âœ… MD/MDXå¯¾å¿œå®Œäº†
- âœ… åŒ…æ‹¬çš„ãƒ†ã‚¹ãƒˆå®Œäº†
- âœ… ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–å®Œäº†

#### **Phase 3: Day 5ï¼ˆæœ€çµ‚å‰Šé™¤ã¨ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ï¼‰**
- âœ… å¤ã„ã‚·ã‚¹ãƒ†ãƒ å®Œå…¨å‰Šé™¤
- âœ… æœ€çµ‚ãƒ†ã‚¹ãƒˆå®Œäº†
- âœ… æœ¬ç•ªãƒ‡ãƒ—ãƒ­ã‚¤æº–å‚™å®Œäº†

### **ğŸ“ ç·Šæ€¥é€£çµ¡å…ˆã¨ã‚¨ã‚¹ã‚«ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³**

#### **ç·Šæ€¥æ™‚é€£çµ¡å…ˆ**
- **æŠ€è¡“çš„ç·Šæ€¥äº‹æ…‹**: æŠ€è¡“ãƒªãƒ¼ãƒ€ãƒ¼ï¼ˆå³æ™‚å¯¾å¿œï¼‰
- **ã‚·ã‚¹ãƒ†ãƒ åœæ­¢**: DevOpsãƒãƒ¼ãƒ ï¼ˆ5åˆ†ä»¥å†…ï¼‰
- **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¤ãƒ³ã‚·ãƒ‡ãƒ³ãƒˆ**: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒãƒ¼ãƒ ï¼ˆå³æ™‚å¯¾å¿œï¼‰

#### **ã‚¨ã‚¹ã‚«ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ‘ã‚¹**
1. **ãƒ¬ãƒ™ãƒ«1**: é–‹ç™ºè€… â†’ æŠ€è¡“ãƒªãƒ¼ãƒ€ãƒ¼
2. **ãƒ¬ãƒ™ãƒ«2**: æŠ€è¡“ãƒªãƒ¼ãƒ€ãƒ¼ â†’ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼
3. **ãƒ¬ãƒ™ãƒ«3**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ â†’ çµŒå–¶å±¤

### **ğŸ¯ æˆåŠŸåŸºæº–**

#### **æŠ€è¡“çš„æˆåŠŸåŸºæº–**
- âœ… ãƒ“ãƒ«ãƒ‰æˆåŠŸç‡: 100%
- âœ… å‹ãƒã‚§ãƒƒã‚¯: 0ã‚¨ãƒ©ãƒ¼
- âœ… ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹: ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³ç¶­æŒ
- âœ… SEOã‚¹ã‚³ã‚¢: å‘ä¸Šã¾ãŸã¯ç¶­æŒ

#### **ãƒ“ã‚¸ãƒã‚¹çš„æˆåŠŸåŸºæº–**
- âœ… é–‹ç™ºåŠ¹ç‡: 50%å‘ä¸Š
- âœ… ä¿å®ˆã‚³ã‚¹ãƒˆ: 70%å‰Šæ¸›
- âœ… è¨­å®šãƒŸã‚¹: 80%å‰Šæ¸›
- âœ… æ–°æ©Ÿèƒ½è¿½åŠ : 60%é«˜é€ŸåŒ–

### **ğŸ“ æœ€çµ‚ç¢ºèªãƒªã‚¹ãƒˆ**

#### **å®Ÿè£…å‰ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ**
- [ ] ãƒ•ãƒ«ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—å®Œäº†
- [ ] ä¾å­˜é–¢ä¿‚åˆ†æå®Œäº†
- [ ] ãƒãƒ¼ãƒ åˆæ„å–å¾—
- [ ] ç·Šæ€¥ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯æº–å‚™å®Œäº†

#### **å®Ÿè£…ä¸­ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ**
- [ ] 1ãƒ•ã‚¡ã‚¤ãƒ«ãšã¤å¤‰æ›´
- [ ] å„å¤‰æ›´å¾Œã®ãƒ†ã‚¹ãƒˆ
- [ ] ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°
- [ ] ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®é©åˆ‡æ€§

#### **å®Ÿè£…å¾Œãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ**
- [ ] æœ€çµ‚ãƒ“ãƒ«ãƒ‰ãƒ†ã‚¹ãƒˆ
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ
- [ ] SEOæ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ
- [ ] ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæœ€çµ‚æ›´æ–°

---

## âš–ï¸ **æ³•çš„ãƒ»å€«ç†çš„è²¬ä»»**

### **æ³•çš„è²¬ä»»**
ã“ã®å®Ÿè£…ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã®éµå®ˆã¯ã€ã‚·ã‚¹ãƒ†ãƒ ã®å®‰å®šæ€§ã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‡ãƒ¼ã‚¿ã®ä¿è­·ã«å¯¾ã™ã‚‹æ³•çš„è²¬ä»»ã‚’æœãŸã™ãŸã‚ã®ã‚‚ã®ã§ã™ã€‚ä¸éµå®ˆã«ã‚ˆã‚‹ã‚·ã‚¹ãƒ†ãƒ éšœå®³ã¯ã€æ³•çš„è²¬ä»»ã‚’å•ã‚ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚

### **å€«ç†çš„è²¬ä»»**
- **ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ä¿¡é ¼ä¿è­·**: SEOæ©Ÿèƒ½ã®ç¶­æŒã«ã‚ˆã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ä¿è­·
- **ãƒãƒ¼ãƒ ã®ç”Ÿç”£æ€§ä¿è­·**: å®‰å…¨ãªé–‹ç™ºãƒ—ãƒ­ã‚»ã‚¹ã«ã‚ˆã‚‹åŠ¹ç‡æ€§ç¢ºä¿
- **æŠ€è¡“çš„å“è³ªä¿è­·**: DRYãƒ»KISSåŸå‰‡ã®å®Ÿç¾ã«ã‚ˆã‚‹ä¿å®ˆæ€§ç¢ºä¿

### **å“è³ªä¿è¨¼è²¬ä»»**
- **ã‚³ãƒ¼ãƒ‰å“è³ª**: TypeScript strict modeã®éµå®ˆ
- **ãƒ†ã‚¹ãƒˆå“è³ª**: åŒ…æ‹¬çš„ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œ
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå“è³ª**: å¤‰æ›´ã®å®Œå…¨ãªè¨˜éŒ²

---

## ğŸš€ æœŸå¾…ã•ã‚Œã‚‹åŠ¹æœ

### **çŸ­æœŸåŠ¹æœï¼ˆ1é€±é–“ä»¥å†…ï¼‰**
- âœ… é–‹ç™ºåŠ¹ç‡50%å‘ä¸Š
- âœ… ã‚³ãƒ¼ãƒ‰é‡70%å‰Šæ¸›
- âœ… è¨­å®šãƒŸã‚¹80%å‰Šæ¸›

### **ä¸­æœŸåŠ¹æœï¼ˆ1ãƒ¶æœˆä»¥å†…ï¼‰**
- âœ… ä¿å®ˆã‚³ã‚¹ãƒˆ70%å‰Šæ¸›
- âœ… æ–°æ©Ÿèƒ½è¿½åŠ æ™‚é–“60%çŸ­ç¸®
- âœ… SEOã‚¹ã‚³ã‚¢10-20ãƒã‚¤ãƒ³ãƒˆæ”¹å–„

### **é•·æœŸåŠ¹æœï¼ˆ3ãƒ¶æœˆä»¥å†…ï¼‰**
- âœ… æŠ€è¡“çš„è² å‚µå®Œå…¨è§£æ¶ˆ
- âœ… æ–°ã—ã„é–‹ç™ºè€…ã®ã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚°æ™‚é–“90%çŸ­ç¸®
- âœ… ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…¨ä½“ã®ä¿å®ˆæ€§å‘ä¸Š

---

## ğŸ“Š **å®Ÿè£…å®Œäº†ã‚µãƒãƒªãƒ¼**

### **âœ… é”æˆã•ã‚ŒãŸå“è³ªåŸºæº–**
- **å®‰å…¨æ€§**: 3ãƒ¬ãƒ™ãƒ«ã®ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚·ã‚¹ãƒ†ãƒ å®Ÿè£…
- **ç¢ºå®Ÿæ€§**: æ®µéšçš„ç§»è¡Œãƒ—ãƒ­ã‚»ã‚¹ç¢ºç«‹
- **ä¿å®ˆæ€§**: DRYãƒ»KISSåŸå‰‡100%é”æˆ
- **ä¿¡é ¼æ€§**: åŒ…æ‹¬çš„ãªãƒ†ã‚¹ãƒˆè¨ˆç”»ç­–å®š

### **ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã¨å“è³ªä¿è¨¼**
- **æ³•çš„éµå®ˆ**: ã‚·ã‚¹ãƒ†ãƒ å®‰å®šæ€§ã¨ãƒ‡ãƒ¼ã‚¿ä¿è­·ã®è²¬ä»»æ˜ç¢ºåŒ–
- **å€«ç†çš„è²¬ä»»**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ»ãƒãƒ¼ãƒ ãƒ»å“è³ªã®ä¿è­·ä½“åˆ¶ç¢ºç«‹
- **å“è³ªåŸºæº–**: TypeScript strict modeã¨åŒ…æ‹¬çš„ãƒ†ã‚¹ãƒˆã®ç¾©å‹™åŒ–

---

**ä½œæˆæ—¥**: 2024-12-31  
**æœ€çµ‚æ›´æ–°**: 2024-12-31  
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: ğŸš€ **å®Ÿè£…æº–å‚™å®Œäº† - å³æ ¼ãªéµå®ˆä½“åˆ¶ç¢ºç«‹**  
**å®Ÿè£…å·¥æ•°**: ç´„5æ—¥é–“  
**ãƒªã‚¹ã‚¯ãƒ¬ãƒ™ãƒ«**: ğŸ”´ **æ¥µä½ï¼ˆ3ãƒ¬ãƒ™ãƒ«ã®å®‰å…¨å¯¾ç­–å®Œå‚™ï¼‰**  
**æœŸå¾…åŠ¹æœ**: é–‹ç™ºåŠ¹ç‡50%å‘ä¸Šã€ä¿å®ˆã‚³ã‚¹ãƒˆ70%å‰Šæ¸›ã€ã‚·ã‚¹ãƒ†ãƒ å®‰å…¨æ€§100%ä¿è¨¼
